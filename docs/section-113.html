<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 8 데이터 분석 및 시각화하기 | 퀀트 투자 쿡북: R을 이용한 투자 포트폴리오 만들기</title>
  <meta name="description" content="Chapter 8 데이터 분석 및 시각화하기 | 퀀트 투자 쿡북: R을 이용한 투자 포트폴리오 만들기" />
  <meta name="generator" content="bookdown 0.11 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 8 데이터 분석 및 시각화하기 | 퀀트 투자 쿡북: R을 이용한 투자 포트폴리오 만들기" />
  <meta property="og:type" content="book" />
  
  
  
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 8 데이터 분석 및 시각화하기 | 퀀트 투자 쿡북: R을 이용한 투자 포트폴리오 만들기" />
  
  
  

<meta name="author" content="이현열" />


<meta name="date" content="2019-06-17" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="section-109.html">
<link rel="next" href="section-116.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">퀀트 투자 쿡북</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>여는 글</a></li>
<li class="chapter" data-level="1" data-path="section-1.html"><a href="section-1.html"><i class="fa fa-check"></i><b>1</b> 퀀트 투자의 심장: 데이터와 프로그래밍</a><ul>
<li class="chapter" data-level="1.1" data-path="section-1.html"><a href="section-1.html#section-2"><i class="fa fa-check"></i><b>1.1</b> 데이터 구하기</a></li>
<li class="chapter" data-level="1.2" data-path="section-1.html"><a href="section-1.html#section-3"><i class="fa fa-check"></i><b>1.2</b> 퀀트 투자와 프로그래밍</a></li>
<li class="chapter" data-level="1.3" data-path="section-1.html"><a href="section-1.html#r-"><i class="fa fa-check"></i><b>1.3</b> R 프로그램</a></li>
<li class="chapter" data-level="1.4" data-path="section-1.html"><a href="section-1.html#r--1"><i class="fa fa-check"></i><b>1.4</b> 퀀트 투자에 유용한 R 패키지</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="section-4.html"><a href="section-4.html"><i class="fa fa-check"></i><b>2</b> 크롤링을 위한 기본 지식</a><ul>
<li class="chapter" data-level="2.1" data-path="section-4.html"><a href="section-4.html#r-utf-8-"><i class="fa fa-check"></i><b>2.1</b> 인코딩의 이해와 R에서 UTF-8 설정하기</a><ul>
<li class="chapter" data-level="2.1.1" data-path="section-4.html"><a href="section-4.html#ascii"><i class="fa fa-check"></i><b>2.1.1</b> 인간과 컴퓨터 간 번역의 시작, ASCII</a></li>
<li class="chapter" data-level="2.1.2" data-path="section-4.html"><a href="section-4.html#section-5"><i class="fa fa-check"></i><b>2.1.2</b> 한글 인코딩의 종류</a></li>
<li class="chapter" data-level="2.1.3" data-path="section-4.html"><a href="section-4.html#r-utf-8--1"><i class="fa fa-check"></i><b>2.1.3</b> R에서 UTF-8 설정하기</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="section-4.html"><a href="section-4.html#section-6"><i class="fa fa-check"></i><b>2.2</b> 웹의 동작 방식</a><ul>
<li class="chapter" data-level="2.2.1" data-path="section-4.html"><a href="section-4.html#http"><i class="fa fa-check"></i><b>2.2.1</b> HTTP</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="section-4.html"><a href="section-4.html#html-css-"><i class="fa fa-check"></i><b>2.3</b> HTML과 CSS 이해하기</a><ul>
<li class="chapter" data-level="2.3.1" data-path="section-4.html"><a href="section-4.html#html--"><i class="fa fa-check"></i><b>2.3.1</b> HTML 기본 구조</a></li>
<li class="chapter" data-level="2.3.2" data-path="section-4.html"><a href="section-4.html#section-7"><i class="fa fa-check"></i><b>2.3.2</b> 태그와 속성</a></li>
<li class="chapter" data-level="2.3.3" data-path="section-4.html"><a href="section-4.html#h--p-"><i class="fa fa-check"></i><b>2.3.3</b> h 태그와 p 태그</a></li>
<li class="chapter" data-level="2.3.4" data-path="section-4.html"><a href="section-4.html#ul-ol-"><i class="fa fa-check"></i><b>2.3.4</b> 리스트: ul과 ol 태그</a></li>
<li class="chapter" data-level="2.3.5" data-path="section-4.html"><a href="section-4.html#table-"><i class="fa fa-check"></i><b>2.3.5</b> table 태그</a></li>
<li class="chapter" data-level="2.3.6" data-path="section-4.html"><a href="section-4.html#a-src--"><i class="fa fa-check"></i><b>2.3.6</b> a, src 태그와 속성</a></li>
<li class="chapter" data-level="2.3.7" data-path="section-4.html"><a href="section-4.html#div-"><i class="fa fa-check"></i><b>2.3.7</b> div 태그</a></li>
<li class="chapter" data-level="2.3.8" data-path="section-4.html"><a href="section-4.html#css"><i class="fa fa-check"></i><b>2.3.8</b> CSS</a></li>
<li class="chapter" data-level="2.3.9" data-path="section-4.html"><a href="section-4.html#class-id"><i class="fa fa-check"></i><b>2.3.9</b> class와 id</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="section-4.html"><a href="section-4.html#section-8"><i class="fa fa-check"></i><b>2.4</b> 파이프 오퍼레이터 (<code>%&gt;%</code>)</a></li>
<li class="chapter" data-level="2.5" data-path="section-4.html"><a href="section-4.html#section-9"><i class="fa fa-check"></i><b>2.5</b> 오류에 대한 예외처리</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="api-.html"><a href="api-.html"><i class="fa fa-check"></i><b>3</b> API를 이용한 데이터 수집</a><ul>
<li class="chapter" data-level="3.1" data-path="api-.html"><a href="api-.html#api--quandl--"><i class="fa fa-check"></i><b>3.1</b> API를 이용한 Quandl 데이터 다운로드</a></li>
<li class="chapter" data-level="3.2" data-path="api-.html"><a href="api-.html#getsymbols---api-"><i class="fa fa-check"></i><b>3.2</b> <code>getSymbols()</code> 함수를 이용한 API 다운로드</a><ul>
<li class="chapter" data-level="3.2.1" data-path="api-.html"><a href="api-.html#section-10"><i class="fa fa-check"></i><b>3.2.1</b> 주가 다운로드</a></li>
<li class="chapter" data-level="3.2.2" data-path="api-.html"><a href="api-.html#section-11"><i class="fa fa-check"></i><b>3.2.2</b> 국내 종목 주가 다운로드</a></li>
<li class="chapter" data-level="3.2.3" data-path="api-.html"><a href="api-.html#fred--"><i class="fa fa-check"></i><b>3.2.3</b> FRED 데이터 다운로드</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="section-12.html"><a href="section-12.html"><i class="fa fa-check"></i><b>4</b> 크롤링 이해하기</a><ul>
<li class="chapter" data-level="4.1" data-path="section-12.html"><a href="section-12.html#get-post--"><i class="fa fa-check"></i><b>4.1</b> GET과 POST 방식 이해하기</a><ul>
<li class="chapter" data-level="4.1.1" data-path="section-12.html"><a href="section-12.html#get-"><i class="fa fa-check"></i><b>4.1.1</b> GET 방식</a></li>
<li class="chapter" data-level="4.1.2" data-path="section-12.html"><a href="section-12.html#post-"><i class="fa fa-check"></i><b>4.1.2</b> POST 방식</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="section-12.html"><a href="section-12.html#section-13"><i class="fa fa-check"></i><b>4.2</b> 크롤링 예제</a><ul>
<li class="chapter" data-level="4.2.1" data-path="section-12.html"><a href="section-12.html#section-14"><i class="fa fa-check"></i><b>4.2.1</b> 금융 속보 크롤링</a></li>
<li class="chapter" data-level="4.2.2" data-path="section-12.html"><a href="section-12.html#section-15"><i class="fa fa-check"></i><b>4.2.2</b> 기업공시채널에서 오늘의 공시 불러오기</a></li>
<li class="chapter" data-level="4.2.3" data-path="section-12.html"><a href="section-12.html#section-16"><i class="fa fa-check"></i><b>4.2.3</b> 네이버 금융에서 주식티커 크롤링</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="section-17.html"><a href="section-17.html"><i class="fa fa-check"></i><b>5</b> 금융 데이터 수집하기 (기본)</a><ul>
<li class="chapter" data-level="5.1" data-path="section-17.html"><a href="section-17.html#section-18"><i class="fa fa-check"></i><b>5.1</b> 한국거래소의 산업별 현황 및 개별지표 크롤링</a><ul>
<li class="chapter" data-level="5.1.1" data-path="section-17.html"><a href="section-17.html#section-19"><i class="fa fa-check"></i><b>5.1.1</b> 산업별 현황 크롤링</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="section-17.html"><a href="section-17.html#vdfqrc92ozimrxw4rohjf3ophpjsgs1o3rolqpjtwi6okfdqkc4ye6hiituwk9idyjkabn3js2to4fadfsm6iu580jq7v7smvh5tx0kelw7lhvmathzvv3bbsm3agzgbdmshkhwtazkalvfc7beqzsfw3frkq7tfqag5msylg2cmiqzfkubsecuhwqjdavbhknzams74vx97jddh3olmonmn7gnxaax0ab1s24as8pipcm2hmrqvf4bqealbegaafsqr9ioud7ydx4bm6v3musiqgre"><i class="fa fa-check"></i><b>5.2</b> [1] “vDfqRc92OziMrxW4rOHJF3oPHPjSgS1O3ro/lqpjTwI6okfdqkc4ye6HII+tUw+/k9IdYjkAbn3Js2To4faDfSm6iU/580Jq7V7SMVh5+tx0keLw7LhVMATHZvv3BBSM3aGzGB/dMShk/HwTaZKaLvFc7BEqzsfw3FrKq7tfQaG5msYLG2cmiQzfkubSeC+/UHWqjDavbhKnzamS74Vx97JDDh3OLMOnMn+7gn/xAaX0aB1S+24as8PiPCM2h+mr+qVf4BqeALBEGaaFSQr9iOUD7ydx4B+M6V3MusiqgRE=”</a></li>
<li class="chapter" data-level="5.3" data-path="section-17.html"><a href="section-17.html#a-tibble-2243-x-7"><i class="fa fa-check"></i><b>5.3</b> # A tibble: 2,243 x 7</a></li>
<li class="chapter" data-level="5.4" data-path="section-17.html"><a href="section-17.html#section-20"><i class="fa fa-check"></i><b>5.4</b> 시장구분 종목코드 종목명 산업분류 <code>현재가(종가)</code> 전일대비 <code>시가총액(원)</code></a></li>
<li class="chapter" data-level="5.5" data-path="section-17.html"><a href="section-17.html#section-21"><i class="fa fa-check"></i><b>5.5</b> <chr> <chr> <chr> <chr> <dbl> <dbl> <dbl></a></li>
<li class="chapter" data-level="5.6" data-path="section-17.html"><a href="section-17.html#section-22"><i class="fa fa-check"></i><b>5.6</b> 1 코스피 030720 동원수산~ 어업 8940 -20 41605016700</a></li>
<li class="chapter" data-level="5.7" data-path="section-17.html"><a href="section-17.html#section-23"><i class="fa fa-check"></i><b>5.7</b> 2 코스피 007160 사조산업~ 어업 54400 800 272000000000</a></li>
<li class="chapter" data-level="5.8" data-path="section-17.html"><a href="section-17.html#section-24"><i class="fa fa-check"></i><b>5.8</b> 3 코스피 006040 동원산업~ 어업 246500 500 829028800000</a></li>
<li class="chapter" data-level="5.9" data-path="section-17.html"><a href="section-17.html#section-25"><i class="fa fa-check"></i><b>5.9</b> 4 코스피 004970 신라교역~ 어업 14350 350 229600000000</a></li>
<li class="chapter" data-level="5.10" data-path="section-17.html"><a href="section-17.html#section-26"><i class="fa fa-check"></i><b>5.10</b> 5 코스피 012320 경동인베스~ 광업 40300 1350 95310426900</a></li>
<li class="chapter" data-level="5.11" data-path="section-17.html"><a href="section-17.html#section-27"><i class="fa fa-check"></i><b>5.11</b> 6 코스피 003580 넥스트사이~ 광업 5200 260 122099322800</a></li>
<li class="chapter" data-level="5.12" data-path="section-17.html"><a href="section-17.html#section-28"><i class="fa fa-check"></i><b>5.12</b> 7 코스피 017810 풀무원 음식료품 11300 200 430427735000</a></li>
<li class="chapter" data-level="5.13" data-path="section-17.html"><a href="section-17.html#section-29"><i class="fa fa-check"></i><b>5.13</b> 8 코스피 280360 롯데제과~ 음식료품 159500 -500 1023466361500</a></li>
<li class="chapter" data-level="5.14" data-path="section-17.html"><a href="section-17.html#section-30"><i class="fa fa-check"></i><b>5.14</b> 9 코스피 271560 오리온 음식료품 83300 1400 3293359795600</a></li>
<li class="chapter" data-level="5.15" data-path="section-17.html"><a href="section-17.html#section-31"><i class="fa fa-check"></i><b>5.15</b> 10 코스피 006090 사조오양~ 음식료품 8220 30 77454914580</a></li>
<li class="chapter" data-level="5.16" data-path="section-17.html"><a href="section-17.html#with-2233-more-rows"><i class="fa fa-check"></i><b>5.16</b> # … with 2,233 more rows</a></li>
<li class="chapter" data-level="5.17" data-path="section-17.html"><a href="section-17.html#false"><i class="fa fa-check"></i><b>5.17</b> [1] FALSE</a><ul>
<li class="chapter" data-level="5.17.1" data-path="section-17.html"><a href="section-17.html#section-32"><i class="fa fa-check"></i><b>5.17.1</b> 개별종목 지표 크롤링</a></li>
</ul></li>
<li class="chapter" data-level="5.18" data-path="section-17.html"><a href="section-17.html#a-tibble-2204-x-13"><i class="fa fa-check"></i><b>5.18</b> # A tibble: 2,204 x 13</a></li>
<li class="chapter" data-level="5.19" data-path="section-17.html"><a href="section-17.html#eps-per-bps-pbr"><i class="fa fa-check"></i><b>5.19</b> 일자 종목코드 종목명 관리여부 종가 EPS PER BPS PBR</a></li>
<li class="chapter" data-level="5.20" data-path="section-17.html"><a href="section-17.html#section-33"><i class="fa fa-check"></i><b>5.20</b> <date> <chr> <chr> <chr> <dbl> <chr> <chr> <chr> <chr></a></li>
<li class="chapter" data-level="5.21" data-path="section-17.html"><a href="section-17.html#section-34"><i class="fa fa-check"></i><b>5.21</b> 1 2019-06-07 060300 레드로버~ - 1190 - - 2,128 0.56</a></li>
<li class="chapter" data-level="5.22" data-path="section-17.html"><a href="section-17.html#section-35"><i class="fa fa-check"></i><b>5.22</b> 2 2019-06-07 290650 엘앤씨바이~ - 22750 830 27.41 7,252 3.14</a></li>
<li class="chapter" data-level="5.23" data-path="section-17.html"><a href="section-17.html#section-36"><i class="fa fa-check"></i><b>5.23</b> 3 2019-06-07 239340 미래에셋제~ - 5200 - - - -</a></li>
<li class="chapter" data-level="5.24" data-path="section-17.html"><a href="section-17.html#section-37"><i class="fa fa-check"></i><b>5.24</b> 4 2019-06-07 086060 진바이오텍~ - 6940 312 22.24 5,570 1.25</a></li>
<li class="chapter" data-level="5.25" data-path="section-17.html"><a href="section-17.html#section-38"><i class="fa fa-check"></i><b>5.25</b> 5 2019-06-07 033430 디에스티~ - 1310 - - 338 3.88</a></li>
<li class="chapter" data-level="5.26" data-path="section-17.html"><a href="section-17.html#section-39"><i class="fa fa-check"></i><b>5.26</b> 6 2019-06-07 038680 에스넷 - 9600 300 32 4,302 2.23</a></li>
<li class="chapter" data-level="5.27" data-path="section-17.html"><a href="section-17.html#section-40"><i class="fa fa-check"></i><b>5.27</b> 7 2019-06-07 214680 디알텍 - 2005 29 69.14 709 2.83</a></li>
<li class="chapter" data-level="5.28" data-path="section-17.html"><a href="section-17.html#section-41"><i class="fa fa-check"></i><b>5.28</b> 8 2019-06-07 242040 나무기술~ - 3345 - - 462 7.24</a></li>
<li class="chapter" data-level="5.29" data-path="section-17.html"><a href="section-17.html#section-42"><i class="fa fa-check"></i><b>5.29</b> 9 2019-06-07 121890 에스디시스~ - 4980 - - 1,912 2.6</a></li>
<li class="chapter" data-level="5.30" data-path="section-17.html"><a href="section-17.html#section-43"><i class="fa fa-check"></i><b>5.30</b> 10 2019-06-07 088800 에이스테크~ - 11500 97 118.~ 2,291 5.02</a></li>
<li class="chapter" data-level="5.31" data-path="section-17.html"><a href="section-17.html#with-2194-more-rows-and-4-more-variables-"><i class="fa fa-check"></i><b>5.31</b> # … with 2,194 more rows, and 4 more variables: 주당배당금 <dbl>,</a></li>
<li class="chapter" data-level="5.32" data-path="section-17.html"><a href="section-17.html#section-44"><i class="fa fa-check"></i><b>5.32</b> # 배당수익률 <dbl>, <code>게시물 일련번호</code> <dbl>, 총카운트 <dbl></a><ul>
<li class="chapter" data-level="5.32.1" data-path="section-17.html"><a href="section-17.html#section-45"><i class="fa fa-check"></i><b>5.32.1</b> 데이터 정리하기</a></li>
</ul></li>
<li class="chapter" data-level="5.33" data-path="section-17.html"><a href="section-17.html#section-46"><i class="fa fa-check"></i><b>5.33</b> [1] “종목코드” “종목명”</a></li>
<li class="chapter" data-level="5.34" data-path="section-17.html"><a href="section-17.html#ankor"><i class="fa fa-check"></i><b>5.34</b> [1] “엘브이엠씨홀딩스” “한국패러랠” “한국ANKOR유전”</a></li>
<li class="chapter" data-level="5.35" data-path="section-17.html"><a href="section-17.html#section-47"><i class="fa fa-check"></i><b>5.35</b> [4] “맵스리얼티1” “맥쿼리인프라” “하나니켈2호”</a></li>
<li class="chapter" data-level="5.36" data-path="section-17.html"><a href="section-17.html#section-48"><i class="fa fa-check"></i><b>5.36</b> [7] “하나니켈1호” “베트남개발1” “신한알파리츠”</a></li>
<li class="chapter" data-level="5.37" data-path="section-17.html"><a href="section-17.html#section-49"><i class="fa fa-check"></i><b>5.37</b> [10] “이리츠코크렙” “모두투어리츠” “하이골드12호”</a></li>
<li class="chapter" data-level="5.38" data-path="section-17.html"><a href="section-17.html#section-50"><i class="fa fa-check"></i><b>5.38</b> [13] “하이골드8호” “바다로19호” “하이골드3호”</a></li>
<li class="chapter" data-level="5.39" data-path="section-17.html"><a href="section-17.html#section-51"><i class="fa fa-check"></i><b>5.39</b> [16] “케이탑리츠” “에이리츠” “동북아13호”</a></li>
<li class="chapter" data-level="5.40" data-path="section-17.html"><a href="section-17.html#jtc"><i class="fa fa-check"></i><b>5.40</b> [19] “동북아12호” “컬러레이” “JTC”</a></li>
<li class="chapter" data-level="5.41" data-path="section-17.html"><a href="section-17.html#section-52"><i class="fa fa-check"></i><b>5.41</b> [22] “뉴프라이드” “윙입푸드” “글로벌에스엠”</a></li>
<li class="chapter" data-level="5.42" data-path="section-17.html"><a href="section-17.html#section-53"><i class="fa fa-check"></i><b>5.42</b> [25] “크리스탈신소재” “씨케이에이치” “차이나그레이트”</a></li>
<li class="chapter" data-level="5.43" data-path="section-17.html"><a href="section-17.html#grt"><i class="fa fa-check"></i><b>5.43</b> [28] “골든센츄리” “오가닉티코스메틱” “GRT”</a></li>
<li class="chapter" data-level="5.44" data-path="section-17.html"><a href="section-17.html#section-54"><i class="fa fa-check"></i><b>5.44</b> [31] “로스웰” “헝셩그룹” “이스트아시아홀딩스”</a></li>
<li class="chapter" data-level="5.45" data-path="section-17.html"><a href="section-17.html#snk-sbi"><i class="fa fa-check"></i><b>5.45</b> [34] “에스앤씨엔진그룹” “SNK” “SBI핀테크솔루션즈”</a></li>
<li class="chapter" data-level="5.46" data-path="section-17.html"><a href="section-17.html#section-55"><i class="fa fa-check"></i><b>5.46</b> [37] “잉글우드랩” “코오롱티슈진” “엑세스바이오”</a></li>
<li class="chapter" data-level="5.47" data-path="section-17.html"><a href="section-17.html#section-56"><i class="fa fa-check"></i><b>5.47</b> 종목코드 종목명 시장구분 산업분류 현재가.종가. 전일대비</a></li>
<li class="chapter" data-level="5.48" data-path="section-17.html"><a href="section-17.html#section-57"><i class="fa fa-check"></i><b>5.48</b> 330 005930 삼성전자 코스피 전기전자 44200 300</a></li>
<li class="chapter" data-level="5.49" data-path="section-17.html"><a href="section-17.html#sk---65400-300"><i class="fa fa-check"></i><b>5.49</b> 45 000660 SK하이닉스 코스피 전기전자 65400 300</a></li>
<li class="chapter" data-level="5.50" data-path="section-17.html"><a href="section-17.html#section-58"><i class="fa fa-check"></i><b>5.50</b> 301 005380 현대차 코스피 운수장비 140000 -1000</a></li>
<li class="chapter" data-level="5.51" data-path="section-17.html"><a href="section-17.html#section-59"><i class="fa fa-check"></i><b>5.51</b> 331 005935 삼성전자우 코스피 전기전자 36250 200</a></li>
<li class="chapter" data-level="5.52" data-path="section-17.html"><a href="section-17.html#section-60"><i class="fa fa-check"></i><b>5.52</b> 1278 068270 셀트리온 코스피 의약품 196500 500</a></li>
<li class="chapter" data-level="5.53" data-path="section-17.html"><a href="section-17.html#lg---330500--1000"><i class="fa fa-check"></i><b>5.53</b> 1082 051910 LG화학 코스피 화학 330500 -1000</a></li>
<li class="chapter" data-level="5.54" data-path="section-17.html"><a href="section-17.html#eps-per-bps-pbr-1"><i class="fa fa-check"></i><b>5.54</b> 시가총액.원. 일자 관리여부 종가 EPS PER BPS PBR</a></li>
<li class="chapter" data-level="5.55" data-path="section-17.html"><a href="section-17.html#e14-2019-06-07---44200-6461-6.84-35342-1.25"><i class="fa fa-check"></i><b>5.55</b> 330 2.638644e+14 2019-06-07 - 44200 6,461 6.84 35,342 1.25</a></li>
<li class="chapter" data-level="5.56" data-path="section-17.html"><a href="section-17.html#e13-2019-06-07---65400-22255-2.94-64348-1.02"><i class="fa fa-check"></i><b>5.56</b> 45 4.761135e+13 2019-06-07 - 65400 22,255 2.94 64,348 1.02</a></li>
<li class="chapter" data-level="5.57" data-path="section-17.html"><a href="section-17.html#e13-2019-06-07---140000-5632-24.86-245447-0.57"><i class="fa fa-check"></i><b>5.57</b> 301 2.991355e+13 2019-06-07 - 140000 5,632 24.86 245,447 0.57</a></li>
<li class="chapter" data-level="5.58" data-path="section-17.html"><a href="section-17.html#e13-2019-06-07---36250--------"><i class="fa fa-check"></i><b>5.58</b> 331 2.982964e+13 2019-06-07 - 36250 - - - -</a></li>
<li class="chapter" data-level="5.59" data-path="section-17.html"><a href="section-17.html#e13-2019-06-07---196500-2063-95.25-19766-9.94"><i class="fa fa-check"></i><b>5.59</b> 1278 2.521666e+13 2019-06-07 - 196500 2,063 95.25 19,766 9.94</a></li>
<li class="chapter" data-level="5.60" data-path="section-17.html"><a href="section-17.html#e13-2019-06-07---330500-19217-17.2-218227-1.51"><i class="fa fa-check"></i><b>5.60</b> 1082 2.333077e+13 2019-06-07 - 330500 19,217 17.2 218,227 1.51</a></li>
<li class="chapter" data-level="5.61" data-path="section-17.html"><a href="section-17.html#section-61"><i class="fa fa-check"></i><b>5.61</b> 주당배당금 배당수익률 게시물..일련번호 총카운트</a></li>
<li class="chapter" data-level="5.62" data-path="section-17.html"><a href="section-17.html#na"><i class="fa fa-check"></i><b>5.62</b> 330 1416 3.20 1456 NA</a></li>
<li class="chapter" data-level="5.63" data-path="section-17.html"><a href="section-17.html#na-1"><i class="fa fa-check"></i><b>5.63</b> 45 1500 2.29 1408 NA</a></li>
<li class="chapter" data-level="5.64" data-path="section-17.html"><a href="section-17.html#na-2"><i class="fa fa-check"></i><b>5.64</b> 301 4000 2.86 1450 NA</a></li>
<li class="chapter" data-level="5.65" data-path="section-17.html"><a href="section-17.html#na-3"><i class="fa fa-check"></i><b>5.65</b> 331 1417 3.91 2088 NA</a></li>
<li class="chapter" data-level="5.66" data-path="section-17.html"><a href="section-17.html#na-4"><i class="fa fa-check"></i><b>5.66</b> 1278 0 0.00 1595 NA</a></li>
<li class="chapter" data-level="5.67" data-path="section-17.html"><a href="section-17.html#na-5"><i class="fa fa-check"></i><b>5.67</b> 1082 6000 1.82 1536 NA</a></li>
<li class="chapter" data-level="5.68" data-path="section-17.html"><a href="section-17.html#section-62"><i class="fa fa-check"></i><b>5.68</b> [1] “미래에셋제5호스팩” “한화에스비아이스팩” “엔에이치스팩14호”</a></li>
<li class="chapter" data-level="5.69" data-path="section-17.html"><a href="section-17.html#section-63"><i class="fa fa-check"></i><b>5.69</b> [4] “엔에이치스팩10호” “엔에이치스팩12호” “삼성스팩2호”</a></li>
<li class="chapter" data-level="5.70" data-path="section-17.html"><a href="section-17.html#section-64"><i class="fa fa-check"></i><b>5.70</b> [7] “대신밸런스제5호스팩” “케이비제10호스팩” “엔에이치스팩11호”</a></li>
<li class="chapter" data-level="5.71" data-path="section-17.html"><a href="section-17.html#section-65"><i class="fa fa-check"></i><b>5.71</b> [10] “유진스팩4호” “신한제4호스팩” “하나금융11호스팩”</a></li>
<li class="chapter" data-level="5.72" data-path="section-17.html"><a href="section-17.html#db7-sk4"><i class="fa fa-check"></i><b>5.72</b> [13] “케이비17호스팩” “DB금융스팩7호” “SK4호스팩”</a></li>
<li class="chapter" data-level="5.73" data-path="section-17.html"><a href="section-17.html#section-66"><i class="fa fa-check"></i><b>5.73</b> [16] “한국제7호스팩” “대신밸런스제6호스팩” “미래에셋대우스팩1호”</a></li>
<li class="chapter" data-level="5.74" data-path="section-17.html"><a href="section-17.html#ibks5-5"><i class="fa fa-check"></i><b>5.74</b> [19] “대신밸런스제4호스팩” “IBKS제5호스팩” “동부스팩5호”</a></li>
<li class="chapter" data-level="5.75" data-path="section-17.html"><a href="section-17.html#db6-6-10"><i class="fa fa-check"></i><b>5.75</b> [22] “DB금융스팩6호” “하나머스트제6호스팩” “하나금융10호스팩”</a></li>
<li class="chapter" data-level="5.76" data-path="section-17.html"><a href="section-17.html#section-67"><i class="fa fa-check"></i><b>5.76</b> [25] “삼성머스트스팩3호” “유안타제4호스팩” “한국제6호스팩”</a></li>
<li class="chapter" data-level="5.77" data-path="section-17.html"><a href="section-17.html#ibks6-4-"><i class="fa fa-check"></i><b>5.77</b> [28] “IBKS제6호스팩” “신영스팩4호” “한화수성스팩”</a></li>
<li class="chapter" data-level="5.78" data-path="section-17.html"><a href="section-17.html#ibks10-4-9"><i class="fa fa-check"></i><b>5.78</b> [31] “IBKS제10호스팩” “하이제4호스팩” “하나금융9호스팩”</a></li>
<li class="chapter" data-level="5.79" data-path="section-17.html"><a href="section-17.html#section-68"><i class="fa fa-check"></i><b>5.79</b> [34] “유안타제3호스팩” “교보7호스팩” “한국제5호스팩”</a></li>
<li class="chapter" data-level="5.80" data-path="section-17.html"><a href="section-17.html#ibks9-8-ibks7"><i class="fa fa-check"></i><b>5.80</b> [37] “IBKS제9호스팩” “교보8호스팩” “IBKS제7호스팩”</a></li>
<li class="chapter" data-level="5.81" data-path="section-17.html"><a href="section-17.html#sk3"><i class="fa fa-check"></i><b>5.81</b> [40] “신한제3호스팩” “키움제5호스팩” “SK3호스팩”</a></li>
<li class="chapter" data-level="5.82" data-path="section-17.html"><a href="section-17.html#section-69"><i class="fa fa-check"></i><b>5.82</b> [43] “한국제8호스팩” “한화에이스스팩4호” “엔에이치스팩13호”</a></li>
<li class="chapter" data-level="5.83" data-path="section-17.html"><a href="section-17.html#section-70"><i class="fa fa-check"></i><b>5.83</b> [46] “미래에셋대우스팩2호” “한화에이스스팩3호” “케이비제11호스팩”</a></li>
<li class="chapter" data-level="5.84" data-path="section-17.html"><a href="section-17.html#section-71"><i class="fa fa-check"></i><b>5.84</b> [1] “골든브릿지이안5호”</a></li>
<li class="chapter" data-level="5.85" data-path="section-17.html"><a href="section-17.html#section-72"><i class="fa fa-check"></i><b>5.85</b> [1] “삼성전자우” “미래에셋대우” “현대차우”</a></li>
<li class="chapter" data-level="5.86" data-path="section-17.html"><a href="section-17.html#lg-lg-"><i class="fa fa-check"></i><b>5.86</b> [4] “LG생활건강우” “LG화학우” “아모레퍼시픽우”</a></li>
<li class="chapter" data-level="5.87" data-path="section-17.html"><a href="section-17.html#lg-"><i class="fa fa-check"></i><b>5.87</b> [7] “삼성화재우” “LG전자우” “신영증권우”</a></li>
<li class="chapter" data-level="5.88" data-path="section-17.html"><a href="section-17.html#section-73"><i class="fa fa-check"></i><b>5.88</b> [10] “연우” “두산우” “한국금융지주우”</a></li>
<li class="chapter" data-level="5.89" data-path="section-17.html"><a href="section-17.html#s-oil-"><i class="fa fa-check"></i><b>5.89</b> [13] “대신증권우” “S-Oil우” “대림산업우”</a></li>
<li class="chapter" data-level="5.90" data-path="section-17.html"><a href="section-17.html#nh-g-cj-"><i class="fa fa-check"></i><b>5.90</b> [16] “NH투자증권우” “아모레G우” “CJ제일제당 우”</a></li>
<li class="chapter" data-level="5.91" data-path="section-17.html"><a href="section-17.html#lg-sk-sdi"><i class="fa fa-check"></i><b>5.91</b> [19] “LG우” “SK이노베이션우” “삼성SDI우”</a></li>
<li class="chapter" data-level="5.92" data-path="section-17.html"><a href="section-17.html#cj-"><i class="fa fa-check"></i><b>5.92</b> [22] “삼성전기우” “CJ우” “금호석유우”</a></li>
<li class="chapter" data-level="5.93" data-path="section-17.html"><a href="section-17.html#sk-gs-"><i class="fa fa-check"></i><b>5.93</b> [25] “SK우” “GS우” “미래에셋대우우”</a></li>
<li class="chapter" data-level="5.94" data-path="section-17.html"><a href="section-17.html#section-74"><i class="fa fa-check"></i><b>5.94</b> [28] “롯데칠성우” “부국증권우” “코오롱인더우”</a></li>
<li class="chapter" data-level="5.95" data-path="section-17.html"><a href="section-17.html#section-75"><i class="fa fa-check"></i><b>5.95</b> [31] “롯데지주우” “유한양행우” “유화증권우”</a></li>
<li class="chapter" data-level="5.96" data-path="section-17.html"><a href="section-17.html#sk-"><i class="fa fa-check"></i><b>5.96</b> [34] “호텔신라우” “SK케미칼우” “남양유업우”</a></li>
<li class="chapter" data-level="5.97" data-path="section-17.html"><a href="section-17.html#lg-byc"><i class="fa fa-check"></i><b>5.97</b> [37] “한진칼우” “LG하우시스우” “BYC우”</a></li>
<li class="chapter" data-level="5.98" data-path="section-17.html"><a href="section-17.html#section-76"><i class="fa fa-check"></i><b>5.98</b> [40] “유안타증권우” “대한항공우” “세방우”</a></li>
<li class="chapter" data-level="5.99" data-path="section-17.html"><a href="section-17.html#sk-1-"><i class="fa fa-check"></i><b>5.99</b> [43] “SK디스커버리우” “대덕전자1우” “태영건설우”</a></li>
<li class="chapter" data-level="5.100" data-path="section-17.html"><a href="section-17.html#section-77"><i class="fa fa-check"></i><b>5.100</b> [46] “대상우” “금호산업우” “한화우”</a></li>
<li class="chapter" data-level="5.101" data-path="section-17.html"><a href="section-17.html#section-78"><i class="fa fa-check"></i><b>5.101</b> [49] “현대건설우” “한화케미칼우” “삼양홀딩스우”</a></li>
<li class="chapter" data-level="5.102" data-path="section-17.html"><a href="section-17.html#section-79"><i class="fa fa-check"></i><b>5.102</b> [52] “녹십자홀딩스2우” “신풍제약우” “삼양사우”</a></li>
<li class="chapter" data-level="5.103" data-path="section-17.html"><a href="section-17.html#sk--1"><i class="fa fa-check"></i><b>5.103</b> [55] “넥센우” “SK증권우” “남선알미우”</a></li>
<li class="chapter" data-level="5.104" data-path="section-17.html"><a href="section-17.html#npc"><i class="fa fa-check"></i><b>5.104</b> [58] “코오롱우” “계양전기우” “NPC우”</a></li>
<li class="chapter" data-level="5.105" data-path="section-17.html"><a href="section-17.html#sk--2"><i class="fa fa-check"></i><b>5.105</b> [61] “한화투자증권우” “SK네트웍스우” “태양금속우”</a></li>
<li class="chapter" data-level="5.106" data-path="section-17.html"><a href="section-17.html#section-80"><i class="fa fa-check"></i><b>5.106</b> [64] “쌍용양회우” “서울식품우” “성문전자우”</a></li>
<li class="chapter" data-level="5.107" data-path="section-17.html"><a href="section-17.html#section-81"><i class="fa fa-check"></i><b>5.107</b> [67] “대원전선우” “일양약품우” “성신양회우”</a></li>
<li class="chapter" data-level="5.108" data-path="section-17.html"><a href="section-17.html#section-82"><i class="fa fa-check"></i><b>5.108</b> [70] “대한제당우” “유유제약1우” “코리아써우”</a></li>
<li class="chapter" data-level="5.109" data-path="section-17.html"><a href="section-17.html#cj1"><i class="fa fa-check"></i><b>5.109</b> [73] “크라운해태홀딩스우” “동원시스템즈우” “CJ씨푸드1우”</a></li>
<li class="chapter" data-level="5.110" data-path="section-17.html"><a href="section-17.html#section-83"><i class="fa fa-check"></i><b>5.110</b> [76] “현대비앤지스틸우” “삼성중공우” “금강공업우”</a></li>
<li class="chapter" data-level="5.111" data-path="section-17.html"><a href="section-17.html#section-84"><i class="fa fa-check"></i><b>5.111</b> [79] “대호피앤씨우” “크라운제과우” “동부제철우”</a></li>
<li class="chapter" data-level="5.112" data-path="section-17.html"><a href="section-17.html#section-85"><i class="fa fa-check"></i><b>5.112</b> [82] “깨끗한나라우” “노루페인트우” “대상홀딩스우”</a></li>
<li class="chapter" data-level="5.113" data-path="section-17.html"><a href="section-17.html#section-86"><i class="fa fa-check"></i><b>5.113</b> [85] “덕성우” “코오롱글로벌우” “동양우”</a></li>
<li class="chapter" data-level="5.114" data-path="section-17.html"><a href="section-17.html#db1-"><i class="fa fa-check"></i><b>5.114</b> [88] “신원우” “DB하이텍1우” “하이트진로홀딩스우”</a></li>
<li class="chapter" data-level="5.115" data-path="section-17.html"><a href="section-17.html#jw-"><i class="fa fa-check"></i><b>5.115</b> [91] “흥국화재우” “JW중외제약우” “한양증권우”</a></li>
<li class="chapter" data-level="5.116" data-path="section-17.html"><a href="section-17.html#section-87"><i class="fa fa-check"></i><b>5.116</b> [94] “동부건설우” “노루홀딩스우” “소프트센우”</a></li>
<li class="chapter" data-level="5.117" data-path="section-17.html"><a href="section-17.html#b-2b-3b"><i class="fa fa-check"></i><b>5.117</b> [1] “현대차2우B” “미래에셋대우2우B” “한화3우B”</a></li>
<li class="chapter" data-level="5.118" data-path="section-17.html"><a href="section-17.html#b-b-b"><i class="fa fa-check"></i><b>5.118</b> [4] “현대차3우B” “삼성물산우B” “대교우B”</a></li>
<li class="chapter" data-level="5.119" data-path="section-17.html"><a href="section-17.html#b-2b-1b"><i class="fa fa-check"></i><b>5.119</b> [7] “대신증권2우B” “두산2우B” “넥센타이어1우B”</a></li>
<li class="chapter" data-level="5.120" data-path="section-17.html"><a href="section-17.html#b-2b-b"><i class="fa fa-check"></i><b>5.120</b> [10] “하이트진로2우B” “진흥기업2우B” “진흥기업우B”</a></li>
<li class="chapter" data-level="5.121" data-path="section-17.html"><a href="section-17.html#jw2b-2b-2b"><i class="fa fa-check"></i><b>5.121</b> [13] “JW중외제약2우B” “흥국화재2우B” “코리아써키트2우B”</a></li>
<li class="chapter" data-level="5.122" data-path="section-17.html"><a href="section-17.html#b-2b-3b-1"><i class="fa fa-check"></i><b>5.122</b> [16] “유유제약2우B” “동양2우B” “대한제당3우B”</a></li>
<li class="chapter" data-level="5.123" data-path="section-17.html"><a href="section-17.html#b"><i class="fa fa-check"></i><b>5.123</b> [19] “동양3우B”</a></li>
<li class="chapter" data-level="5.124" data-path="section-17.html"><a href="section-17.html#c"><i class="fa fa-check"></i><b>5.124</b> [1] “루트로닉3우C”</a></li>
<li class="chapter" data-level="5.125" data-path="section-17.html"><a href="section-17.html#wics---"><i class="fa fa-check"></i><b>5.125</b> WICS 기준 섹터정보 크롤링</a></li>
<li class="chapter" data-level="5.126" data-path="section-17.html"><a href="section-17.html#info"><i class="fa fa-check"></i><b>5.126</b> $info</a></li>
<li class="chapter" data-level="5.127" data-path="section-17.html"><a href="section-17.html#infotrd_dt"><i class="fa fa-check"></i><b>5.127</b> <span class="math inline">\(info\)</span>TRD_DT</a></li>
<li class="chapter" data-level="5.128" data-path="section-17.html"><a href="section-17.html#date1559833200000"><i class="fa fa-check"></i><b>5.128</b> [1] “/Date(1559833200000)/”</a></li>
<li class="chapter" data-level="5.129" data-path="section-17.html"><a href="section-17.html#section-88"><i class="fa fa-check"></i><b>5.129</b> </a></li>
<li class="chapter" data-level="5.130" data-path="section-17.html"><a href="section-17.html#infomkt_val"><i class="fa fa-check"></i><b>5.130</b> <span class="math inline">\(info\)</span>MKT_VAL</a></li>
<li class="chapter" data-level="5.131" data-path="section-17.html"><a href="section-17.html#section-89"><i class="fa fa-check"></i><b>5.131</b> [1] 19850082</a></li>
<li class="chapter" data-level="5.132" data-path="section-17.html"><a href="section-17.html#section-90"><i class="fa fa-check"></i><b>5.132</b> </a></li>
<li class="chapter" data-level="5.133" data-path="section-17.html"><a href="section-17.html#infotrd_amt"><i class="fa fa-check"></i><b>5.133</b> <span class="math inline">\(info\)</span>TRD_AMT</a></li>
<li class="chapter" data-level="5.134" data-path="section-17.html"><a href="section-17.html#section-91"><i class="fa fa-check"></i><b>5.134</b> [1] 70030</a></li>
<li class="chapter" data-level="5.135" data-path="section-17.html"><a href="section-17.html#section-92"><i class="fa fa-check"></i><b>5.135</b> </a></li>
<li class="chapter" data-level="5.136" data-path="section-17.html"><a href="section-17.html#infocnt"><i class="fa fa-check"></i><b>5.136</b> <span class="math inline">\(info\)</span>CNT</a></li>
<li class="chapter" data-level="5.137" data-path="section-17.html"><a href="section-17.html#section-93"><i class="fa fa-check"></i><b>5.137</b> [1] 23</a></li>
<li class="chapter" data-level="5.138" data-path="section-17.html"><a href="section-17.html#section-94"><i class="fa fa-check"></i><b>5.138</b> </a></li>
<li class="chapter" data-level="5.139" data-path="section-17.html"><a href="section-17.html#section-95"><i class="fa fa-check"></i><b>5.139</b> </a></li>
<li class="chapter" data-level="5.140" data-path="section-17.html"><a href="section-17.html#list"><i class="fa fa-check"></i><b>5.140</b> $list</a></li>
<li class="chapter" data-level="5.141" data-path="section-17.html"><a href="section-17.html#idx_cd-idx_nm_kor-all_mkt_val-cmp_cd-cmp_kor-mkt_val-wgt"><i class="fa fa-check"></i><b>5.141</b> IDX_CD IDX_NM_KOR ALL_MKT_VAL CMP_CD CMP_KOR MKT_VAL WGT</a></li>
<li class="chapter" data-level="5.142" data-path="section-17.html"><a href="section-17.html#g10-wics--19850082-096770-sk-9052841-45.61"><i class="fa fa-check"></i><b>5.142</b> 1 G10 WICS 에너지 19850082 096770 SK이노베이션 9052841 45.61</a></li>
<li class="chapter" data-level="5.143" data-path="section-17.html"><a href="section-17.html#g10-wics--19850082-010950-s-oil-3403265-17.14"><i class="fa fa-check"></i><b>5.143</b> 2 G10 WICS 에너지 19850082 010950 S-Oil 3403265 17.14</a></li>
<li class="chapter" data-level="5.144" data-path="section-17.html"><a href="section-17.html#g10-wics--19850082-267250--2873204-14.47"><i class="fa fa-check"></i><b>5.144</b> 3 G10 WICS 에너지 19850082 267250 현대중공업지주 2873204 14.47</a></li>
<li class="chapter" data-level="5.145" data-path="section-17.html"><a href="section-17.html#g10-wics--19850082-078930-gs-2491805-12.55"><i class="fa fa-check"></i><b>5.145</b> 4 G10 WICS 에너지 19850082 078930 GS 2491805 12.55</a></li>
<li class="chapter" data-level="5.146" data-path="section-17.html"><a href="section-17.html#g10-wics--19850082-067630--624986-3.15"><i class="fa fa-check"></i><b>5.146</b> 5 G10 WICS 에너지 19850082 067630 에이치엘비생명과학 624986 3.15</a></li>
<li class="chapter" data-level="5.147" data-path="section-17.html"><a href="section-17.html#g10-wics--19850082-006120-sk-257059-1.30"><i class="fa fa-check"></i><b>5.147</b> 6 G10 WICS 에너지 19850082 006120 SK디스커버리 257059 1.30</a></li>
<li class="chapter" data-level="5.148" data-path="section-17.html"><a href="section-17.html#g10-wics--19850082-002960--198881-1.00"><i class="fa fa-check"></i><b>5.148</b> 7 G10 WICS 에너지 19850082 002960 한국쉘석유 198881 1.00</a></li>
<li class="chapter" data-level="5.149" data-path="section-17.html"><a href="section-17.html#g10-wics--19850082-091090--146439-0.74"><i class="fa fa-check"></i><b>5.149</b> 8 G10 WICS 에너지 19850082 091090 세원셀론텍 146439 0.74</a></li>
<li class="chapter" data-level="5.150" data-path="section-17.html"><a href="section-17.html#g10-wics--19850082-011930--118388-0.60"><i class="fa fa-check"></i><b>5.150</b> 9 G10 WICS 에너지 19850082 011930 신성이엔지 118388 0.60</a></li>
<li class="chapter" data-level="5.151" data-path="section-17.html"><a href="section-17.html#g10-wics--19850082-128820--79162-0.40"><i class="fa fa-check"></i><b>5.151</b> 10 G10 WICS 에너지 19850082 128820 대성산업 79162 0.40</a></li>
<li class="chapter" data-level="5.152" data-path="section-17.html"><a href="section-17.html#g10-wics--19850082-043200--75903-0.38"><i class="fa fa-check"></i><b>5.152</b> 11 G10 WICS 에너지 19850082 043200 파루 75903 0.38</a></li>
<li class="chapter" data-level="5.153" data-path="section-17.html"><a href="section-17.html#g10-wics--19850082-003650--71918-0.36"><i class="fa fa-check"></i><b>5.153</b> 12 G10 WICS 에너지 19850082 003650 미창석유 71918 0.36</a></li>
<li class="chapter" data-level="5.154" data-path="section-17.html"><a href="section-17.html#g10-wics--19850082-014530--62828-0.32"><i class="fa fa-check"></i><b>5.154</b> 13 G10 WICS 에너지 19850082 014530 극동유화 62828 0.32</a></li>
<li class="chapter" data-level="5.155" data-path="section-17.html"><a href="section-17.html#g10-wics--19850082-099220-sdn-55967-0.28"><i class="fa fa-check"></i><b>5.155</b> 14 G10 WICS 에너지 19850082 099220 SDN 55967 0.28</a></li>
<li class="chapter" data-level="5.156" data-path="section-17.html"><a href="section-17.html#g10-wics--19850082-024060--53460-0.27"><i class="fa fa-check"></i><b>5.156</b> 15 G10 WICS 에너지 19850082 024060 흥구석유 53460 0.27</a></li>
<li class="chapter" data-level="5.157" data-path="section-17.html"><a href="section-17.html#g10-wics--19850082-041590--50901-0.26"><i class="fa fa-check"></i><b>5.157</b> 16 G10 WICS 에너지 19850082 041590 에너전트 50901 0.26</a></li>
<li class="chapter" data-level="5.158" data-path="section-17.html"><a href="section-17.html#g10-wics--19850082-095910--46873-0.24"><i class="fa fa-check"></i><b>5.158</b> 17 G10 WICS 에너지 19850082 095910 에스에너지 46873 0.24</a></li>
<li class="chapter" data-level="5.159" data-path="section-17.html"><a href="section-17.html#g10-wics--19850082-060900--43739-0.22"><i class="fa fa-check"></i><b>5.159</b> 18 G10 WICS 에너지 19850082 060900 퍼시픽바이오 43739 0.22</a></li>
<li class="chapter" data-level="5.160" data-path="section-17.html"><a href="section-17.html#g10-wics--19850082-012320--40030-0.20"><i class="fa fa-check"></i><b>5.160</b> 19 G10 WICS 에너지 19850082 012320 경동인베스트 40030 0.20</a></li>
<li class="chapter" data-level="5.161" data-path="section-17.html"><a href="section-17.html#g10-wics--19850082-093230--32266-0.16"><i class="fa fa-check"></i><b>5.161</b> 20 G10 WICS 에너지 19850082 093230 이아이디 32266 0.16</a></li>
<li class="chapter" data-level="5.162" data-path="section-17.html"><a href="section-17.html#g10-wics--19850082-038620--30094-0.15"><i class="fa fa-check"></i><b>5.162</b> 21 G10 WICS 에너지 19850082 038620 위즈코프 30094 0.15</a></li>
<li class="chapter" data-level="5.163" data-path="section-17.html"><a href="section-17.html#g10-wics--19850082-137950--29363-0.15"><i class="fa fa-check"></i><b>5.163</b> 22 G10 WICS 에너지 19850082 137950 제이씨케미칼 29363 0.15</a></li>
<li class="chapter" data-level="5.164" data-path="section-17.html"><a href="section-17.html#g10-wics--19850082-000440--10711-0.05"><i class="fa fa-check"></i><b>5.164</b> 23 G10 WICS 에너지 19850082 000440 중앙에너비스 10711 0.05</a></li>
<li class="chapter" data-level="5.165" data-path="section-17.html"><a href="section-17.html#s_wgt-cal_wgt-sec_cd-sec_nm_kor-seq-top60-apt_shr_cnt"><i class="fa fa-check"></i><b>5.165</b> S_WGT CAL_WGT SEC_CD SEC_NM_KOR SEQ TOP60 APT_SHR_CNT</a></li>
<li class="chapter" data-level="5.166" data-path="section-17.html"><a href="section-17.html#g10--1-2-56403994"><i class="fa fa-check"></i><b>5.166</b> 1 45.61 1 G10 에너지 1 2 56403994</a></li>
<li class="chapter" data-level="5.167" data-path="section-17.html"><a href="section-17.html#g10--2-2-41655633"><i class="fa fa-check"></i><b>5.167</b> 2 62.75 1 G10 에너지 2 2 41655633</a></li>
<li class="chapter" data-level="5.168" data-path="section-17.html"><a href="section-17.html#g10--3-2-9283372"><i class="fa fa-check"></i><b>5.168</b> 3 77.23 1 G10 에너지 3 2 9283372</a></li>
<li class="chapter" data-level="5.169" data-path="section-17.html"><a href="section-17.html#g10--4-2-49245150"><i class="fa fa-check"></i><b>5.169</b> 4 89.78 1 G10 에너지 4 2 49245150</a></li>
<li class="chapter" data-level="5.170" data-path="section-17.html"><a href="section-17.html#g10--5-2-39307272"><i class="fa fa-check"></i><b>5.170</b> 5 92.93 1 G10 에너지 5 2 39307272</a></li>
<li class="chapter" data-level="5.171" data-path="section-17.html"><a href="section-17.html#g10--6-2-10470820"><i class="fa fa-check"></i><b>5.171</b> 6 94.22 1 G10 에너지 6 2 10470820</a></li>
<li class="chapter" data-level="5.172" data-path="section-17.html"><a href="section-17.html#g10--7-2-611000"><i class="fa fa-check"></i><b>5.172</b> 7 95.22 1 G10 에너지 7 2 611000</a></li>
<li class="chapter" data-level="5.173" data-path="section-17.html"><a href="section-17.html#g10--8-2-42693554"><i class="fa fa-check"></i><b>5.173</b> 8 95.96 1 G10 에너지 8 2 42693554</a></li>
<li class="chapter" data-level="5.174" data-path="section-17.html"><a href="section-17.html#g10--9-2-100756131"><i class="fa fa-check"></i><b>5.174</b> 9 96.56 1 G10 에너지 9 2 100756131</a></li>
<li class="chapter" data-level="5.175" data-path="section-17.html"><a href="section-17.html#g10--10-2-15832417"><i class="fa fa-check"></i><b>5.175</b> 10 96.96 1 G10 에너지 10 2 15832417</a></li>
<li class="chapter" data-level="5.176" data-path="section-17.html"><a href="section-17.html#g10--11-2-29707590"><i class="fa fa-check"></i><b>5.176</b> 11 97.34 1 G10 에너지 11 2 29707590</a></li>
<li class="chapter" data-level="5.177" data-path="section-17.html"><a href="section-17.html#g10--12-2-922026"><i class="fa fa-check"></i><b>5.177</b> 12 97.70 1 G10 에너지 12 2 922026</a></li>
<li class="chapter" data-level="5.178" data-path="section-17.html"><a href="section-17.html#g10--13-2-18132098"><i class="fa fa-check"></i><b>5.178</b> 13 98.02 1 G10 에너지 13 2 18132098</a></li>
<li class="chapter" data-level="5.179" data-path="section-17.html"><a href="section-17.html#g10--14-2-38598075"><i class="fa fa-check"></i><b>5.179</b> 14 98.30 1 G10 에너지 14 2 38598075</a></li>
<li class="chapter" data-level="5.180" data-path="section-17.html"><a href="section-17.html#g10--15-2-9000000"><i class="fa fa-check"></i><b>5.180</b> 15 98.57 1 G10 에너지 15 2 9000000</a></li>
<li class="chapter" data-level="5.181" data-path="section-17.html"><a href="section-17.html#g10--16-2-31132353"><i class="fa fa-check"></i><b>5.181</b> 16 98.83 1 G10 에너지 16 2 31132353</a></li>
<li class="chapter" data-level="5.182" data-path="section-17.html"><a href="section-17.html#g10--17-2-10290527"><i class="fa fa-check"></i><b>5.182</b> 17 99.06 1 G10 에너지 17 2 10290527</a></li>
<li class="chapter" data-level="5.183" data-path="section-17.html"><a href="section-17.html#g10--18-2-53017111"><i class="fa fa-check"></i><b>5.183</b> 18 99.28 1 G10 에너지 18 2 53017111</a></li>
<li class="chapter" data-level="5.184" data-path="section-17.html"><a href="section-17.html#g10--19-2-993310"><i class="fa fa-check"></i><b>5.184</b> 19 99.48 1 G10 에너지 19 2 993310</a></li>
<li class="chapter" data-level="5.185" data-path="section-17.html"><a href="section-17.html#g10--20-2-140285009"><i class="fa fa-check"></i><b>5.185</b> 20 99.65 1 G10 에너지 20 2 140285009</a></li>
<li class="chapter" data-level="5.186" data-path="section-17.html"><a href="section-17.html#g10--21-2-24075079"><i class="fa fa-check"></i><b>5.186</b> 21 99.80 1 G10 에너지 21 2 24075079</a></li>
<li class="chapter" data-level="5.187" data-path="section-17.html"><a href="section-17.html#g10--22-2-8353752"><i class="fa fa-check"></i><b>5.187</b> 22 99.95 1 G10 에너지 22 2 8353752</a></li>
<li class="chapter" data-level="5.188" data-path="section-17.html"><a href="section-17.html#g10--23-2-1556783"><i class="fa fa-check"></i><b>5.188</b> 23 100.00 1 G10 에너지 23 2 1556783</a></li>
<li class="chapter" data-level="5.189" data-path="section-17.html"><a href="section-17.html#section-96"><i class="fa fa-check"></i><b>5.189</b> </a></li>
<li class="chapter" data-level="5.190" data-path="section-17.html"><a href="section-17.html#sector"><i class="fa fa-check"></i><b>5.190</b> $sector</a></li>
<li class="chapter" data-level="5.191" data-path="section-17.html"><a href="section-17.html#sec_cd-sec_nm_kor-sec_rate-idx_rate"><i class="fa fa-check"></i><b>5.191</b> SEC_CD SEC_NM_KOR SEC_RATE IDX_RATE</a></li>
<li class="chapter" data-level="5.192" data-path="section-17.html"><a href="section-17.html#g25--16.05-0"><i class="fa fa-check"></i><b>5.192</b> 1 G25 경기관련소비재 16.05 0</a></li>
<li class="chapter" data-level="5.193" data-path="section-17.html"><a href="section-17.html#g35--9.27-0"><i class="fa fa-check"></i><b>5.193</b> 2 G35 건강관리 9.27 0</a></li>
<li class="chapter" data-level="5.194" data-path="section-17.html"><a href="section-17.html#g50--2.26-0"><i class="fa fa-check"></i><b>5.194</b> 3 G50 커뮤니케이션서비스 2.26 0</a></li>
<li class="chapter" data-level="5.195" data-path="section-17.html"><a href="section-17.html#g40--10.31-0"><i class="fa fa-check"></i><b>5.195</b> 4 G40 금융 10.31 0</a></li>
<li class="chapter" data-level="5.196" data-path="section-17.html"><a href="section-17.html#g10--2.37-100"><i class="fa fa-check"></i><b>5.196</b> 5 G10 에너지 2.37 100</a></li>
<li class="chapter" data-level="5.197" data-path="section-17.html"><a href="section-17.html#g20--12.68-0"><i class="fa fa-check"></i><b>5.197</b> 6 G20 산업재 12.68 0</a></li>
<li class="chapter" data-level="5.198" data-path="section-17.html"><a href="section-17.html#g55--1.70-0"><i class="fa fa-check"></i><b>5.198</b> 7 G55 유틸리티 1.70 0</a></li>
<li class="chapter" data-level="5.199" data-path="section-17.html"><a href="section-17.html#g30--3.75-0"><i class="fa fa-check"></i><b>5.199</b> 8 G30 필수소비재 3.75 0</a></li>
<li class="chapter" data-level="5.200" data-path="section-17.html"><a href="section-17.html#g15--7.89-0"><i class="fa fa-check"></i><b>5.200</b> 9 G15 소재 7.89 0</a></li>
<li class="chapter" data-level="5.201" data-path="section-17.html"><a href="section-17.html#g45-it-33.73-0"><i class="fa fa-check"></i><b>5.201</b> 10 G45 IT 33.73 0</a></li>
<li class="chapter" data-level="5.202" data-path="section-17.html"><a href="section-17.html#section-97"><i class="fa fa-check"></i><b>5.202</b> </a></li>
<li class="chapter" data-level="5.203" data-path="section-17.html"><a href="section-17.html#size"><i class="fa fa-check"></i><b>5.203</b> $size</a></li>
<li class="chapter" data-level="5.204" data-path="section-17.html"><a href="section-17.html#sec_cd-sec_nm_kor-sec_rate-idx_rate-1"><i class="fa fa-check"></i><b>5.204</b> SEC_CD SEC_NM_KOR SEC_RATE IDX_RATE</a></li>
<li class="chapter" data-level="5.205" data-path="section-17.html"><a href="section-17.html#wmi510-wmi500--69.40-89.78"><i class="fa fa-check"></i><b>5.205</b> 1 WMI510 WMI500 대형주 69.40 89.78</a></li>
<li class="chapter" data-level="5.206" data-path="section-17.html"><a href="section-17.html#wmi520-wmi500--13.56-4.44"><i class="fa fa-check"></i><b>5.206</b> 2 WMI520 WMI500 중형주 13.56 4.44</a></li>
<li class="chapter" data-level="5.207" data-path="section-17.html"><a href="section-17.html#wmi530-wmi500--17.04-5.78"><i class="fa fa-check"></i><b>5.207</b> 3 WMI530 WMI500 소형주 17.04 5.78</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="section-98.html"><a href="section-98.html"><i class="fa fa-check"></i><b>6</b> 금융 데이터 수집하기 (심화)</a><ul>
<li class="chapter" data-level="6.1" data-path="section-98.html"><a href="section-98.html#section-99"><i class="fa fa-check"></i><b>6.1</b> 수정주가 크롤링</a><ul>
<li class="chapter" data-level="6.1.1" data-path="section-98.html"><a href="section-98.html#section-100"><i class="fa fa-check"></i><b>6.1.1</b> 개별 종목 주가 크롤링</a></li>
<li class="chapter" data-level="6.1.2" data-path="section-98.html"><a href="section-98.html#section-101"><i class="fa fa-check"></i><b>6.1.2</b> 전 종목 주가 크롤링</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="section-98.html"><a href="section-98.html#section-102"><i class="fa fa-check"></i><b>6.2</b> 재무제표 및 가치지표 크롤링</a><ul>
<li class="chapter" data-level="6.2.1" data-path="section-98.html"><a href="section-98.html#section-103"><i class="fa fa-check"></i><b>6.2.1</b> 재무제표 다운로드</a></li>
<li class="chapter" data-level="6.2.2" data-path="section-98.html"><a href="section-98.html#section-104"><i class="fa fa-check"></i><b>6.2.2</b> 가치지표 계산하기</a></li>
<li class="chapter" data-level="6.2.3" data-path="section-98.html"><a href="section-98.html#section-105"><i class="fa fa-check"></i><b>6.2.3</b> 전 종목 재무제표 및 가치지표 다운로드</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="section-98.html"><a href="section-98.html#section-106"><i class="fa fa-check"></i><b>6.3</b> 야후 파이낸스 데이터 구하기</a><ul>
<li class="chapter" data-level="6.3.1" data-path="section-98.html"><a href="section-98.html#section-107"><i class="fa fa-check"></i><b>6.3.1</b> 재무제표 다운로드</a></li>
<li class="chapter" data-level="6.3.2" data-path="section-98.html"><a href="section-98.html#section-108"><i class="fa fa-check"></i><b>6.3.2</b> 가치지표 계산하기</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="section-109.html"><a href="section-109.html"><i class="fa fa-check"></i><b>7</b> 데이터 정리하기</a><ul>
<li class="chapter" data-level="7.1" data-path="section-109.html"><a href="section-109.html#section-110"><i class="fa fa-check"></i><b>7.1</b> 주가 정리하기</a></li>
<li class="chapter" data-level="7.2" data-path="section-109.html"><a href="section-109.html#section-111"><i class="fa fa-check"></i><b>7.2</b> 재무제표 정리하기</a></li>
<li class="chapter" data-level="7.3" data-path="section-109.html"><a href="section-109.html#section-112"><i class="fa fa-check"></i><b>7.3</b> 가치지표 정리하기</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="section-113.html"><a href="section-113.html"><i class="fa fa-check"></i><b>8</b> 데이터 분석 및 시각화하기</a><ul>
<li class="chapter" data-level="8.1" data-path="section-113.html"><a href="section-113.html#section-114"><i class="fa fa-check"></i><b>8.1</b> 종목정보 데이터 분석</a><ul>
<li class="chapter" data-level="8.1.1" data-path="section-113.html"><a href="section-113.html#join--"><i class="fa fa-check"></i><b>8.1.1</b> <code>*_join</code>: 데이터 합치기</a></li>
<li class="chapter" data-level="8.1.2" data-path="section-113.html"><a href="section-113.html#glimpse---"><i class="fa fa-check"></i><b>8.1.2</b> <code>glimpse()</code>: 데이터 구조 확인하기</a></li>
<li class="chapter" data-level="8.1.3" data-path="section-113.html"><a href="section-113.html#rename---"><i class="fa fa-check"></i><b>8.1.3</b> <code>rename()</code>: 열 이름 바꾸기</a></li>
<li class="chapter" data-level="8.1.4" data-path="section-113.html"><a href="section-113.html#distinct---"><i class="fa fa-check"></i><b>8.1.4</b> distinct(): 고유한 값 확인</a></li>
<li class="chapter" data-level="8.1.5" data-path="section-113.html"><a href="section-113.html#select---"><i class="fa fa-check"></i><b>8.1.5</b> <code>select()</code>: 원하는 열만 선택</a></li>
<li class="chapter" data-level="8.1.6" data-path="section-113.html"><a href="section-113.html#mutate-----"><i class="fa fa-check"></i><b>8.1.6</b> <code>mutate()</code>: 열 생성 및 데이터 변경</a></li>
<li class="chapter" data-level="8.1.7" data-path="section-113.html"><a href="section-113.html#filter----"><i class="fa fa-check"></i><b>8.1.7</b> <code>filter()</code>: 조건을 충족하는 행 선택</a></li>
<li class="chapter" data-level="8.1.8" data-path="section-113.html"><a href="section-113.html#summarize---"><i class="fa fa-check"></i><b>8.1.8</b> <code>summarize()</code>: 요약 통계값 계산</a></li>
<li class="chapter" data-level="8.1.9" data-path="section-113.html"><a href="section-113.html#arrange--"><i class="fa fa-check"></i><b>8.1.9</b> <code>arrange()</code>: 데이터 정렬</a></li>
<li class="chapter" data-level="8.1.10" data-path="section-113.html"><a href="section-113.html#row_number--"><i class="fa fa-check"></i><b>8.1.10</b> <code>row_number()</code>: 순위 계산</a></li>
<li class="chapter" data-level="8.1.11" data-path="section-113.html"><a href="section-113.html#ntile--"><i class="fa fa-check"></i><b>8.1.11</b> <code>ntile()</code>: 분위수 계산</a></li>
<li class="chapter" data-level="8.1.12" data-path="section-113.html"><a href="section-113.html#group_by---"><i class="fa fa-check"></i><b>8.1.12</b> <code>group_by()</code>: 그룹별로 데이터를 묶음</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="section-113.html"><a href="section-113.html#section-115"><i class="fa fa-check"></i><b>8.2</b> 종목정보 시각화</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="section-116.html"><a href="section-116.html"><i class="fa fa-check"></i><b>9</b> 퀀트 전략을 이용한 종목선정 (기본)</a><ul>
<li class="chapter" data-level="9.1" data-path="section-116.html"><a href="section-116.html#section-117"><i class="fa fa-check"></i><b>9.1</b> 베타 이해하기</a><ul>
<li class="chapter" data-level="9.1.1" data-path="section-116.html"><a href="section-116.html#section-118"><i class="fa fa-check"></i><b>9.1.1</b> 베타 계산하기</a></li>
<li class="chapter" data-level="9.1.2" data-path="section-116.html"><a href="section-116.html#section-119"><i class="fa fa-check"></i><b>9.1.2</b> 베타 시각화</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="section-116.html"><a href="section-116.html#section-120"><i class="fa fa-check"></i><b>9.2</b> 저변동성 전략</a><ul>
<li class="chapter" data-level="9.2.1" data-path="section-116.html"><a href="section-116.html#section-121"><i class="fa fa-check"></i><b>9.2.1</b> 저변동성 포트폴리오 구하기: 일간 기준</a></li>
<li class="chapter" data-level="9.2.2" data-path="section-116.html"><a href="section-116.html#section-122"><i class="fa fa-check"></i><b>9.2.2</b> 저변동성 포트폴리오 구하기: 주간 기준</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="section-116.html"><a href="section-116.html#section-123"><i class="fa fa-check"></i><b>9.3</b> 모멘텀 전략</a><ul>
<li class="chapter" data-level="9.3.1" data-path="section-116.html"><a href="section-116.html#section-124"><i class="fa fa-check"></i><b>9.3.1</b> 모멘텀 포트폴리오 구하기: 12개월 모멘텀</a></li>
<li class="chapter" data-level="9.3.2" data-path="section-116.html"><a href="section-116.html#section-125"><i class="fa fa-check"></i><b>9.3.2</b> 모멘텀 포트폴리오 구하기: 위험조정 수익률</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="section-116.html"><a href="section-116.html#section-126"><i class="fa fa-check"></i><b>9.4</b> 밸류 전략</a><ul>
<li class="chapter" data-level="9.4.1" data-path="section-116.html"><a href="section-116.html#pbr"><i class="fa fa-check"></i><b>9.4.1</b> 밸류 포트폴리오 구하기: 저 PBR</a></li>
<li class="chapter" data-level="9.4.2" data-path="section-116.html"><a href="section-116.html#section-127"><i class="fa fa-check"></i><b>9.4.2</b> 각 지표를 결합하기</a></li>
</ul></li>
<li class="chapter" data-level="9.5" data-path="section-116.html"><a href="section-116.html#section-128"><i class="fa fa-check"></i><b>9.5</b> 퀄리티 전략</a><ul>
<li class="chapter" data-level="9.5.1" data-path="section-116.html"><a href="section-116.html#f-score"><i class="fa fa-check"></i><b>9.5.1</b> F-Score</a></li>
<li class="chapter" data-level="9.5.2" data-path="section-116.html"><a href="section-116.html#section-129"><i class="fa fa-check"></i><b>9.5.2</b> 각 지표를 결합하기</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="http://henryquant.blogspot.com/" target="blank">Henry's Quantopia</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">퀀트 투자 쿡북: R을 이용한 투자 포트폴리오 만들기</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="section-113" class="section level1">
<h1><span class="header-section-number">Chapter 8</span> 데이터 분석 및 시각화하기</h1>
<p>데이터 수집 및 정리가 끝났다면, 내가 가지고 있는 데이터가 어떠한 특성을 가지고 있는지에 대한 분석 및 시각화 과정, 즉 <strong>탐색적 데이터 분석(Exploratory Data Analysis)</strong>을 할 필요가 있습니다. 해당 과정을 통해 데이터를 더 잘 이해할 수 있으며, 극단치나 결측치 등 데이터가 가지고 있는 잠재적인 문제를 발견하고 이를 어떻게 처리할지에 대해 고민할 수 있습니다.</p>
<p>해당 장에서는 <code>dplyr</code> 패키지를 이용한 데이터 분석과 <code>ggplot</code> 패키지를 이용한 데이터 시각화에 대해 알아보도록 하겠습니다.</p>
<div id="section-114" class="section level2">
<h2><span class="header-section-number">8.1</span> 종목정보 데이터 분석</h2>
<p>먼저 거래소를 통해 수집한 산업별 현황과 개별지표를 정리한 파일, WICS 기준 섹터지표를 정리한 파일을 통해 국내 상장종목의 데이터를 분석해보도록 하겠습니다.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(stringr)

KOR_ticker =<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&#39;data/KOR_ticker.csv&#39;</span>, <span class="dt">row.names =</span> <span class="dv">1</span>, <span class="dt">stringsAsFactors =</span> <span class="ot">FALSE</span>)
KOR_sector =<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&#39;data/KOR_sector.csv&#39;</span>, <span class="dt">row.names =</span> <span class="dv">1</span>, <span class="dt">stringsAsFactors =</span> <span class="ot">FALSE</span>)

KOR_ticker<span class="op">$</span><span class="st">&#39;종목코드&#39;</span> =<span class="st"> </span><span class="kw">str_pad</span>(KOR_ticker<span class="op">$</span><span class="st">&#39;종목코드&#39;</span>, <span class="dv">6</span>, <span class="st">&#39;left&#39;</span>, <span class="dv">0</span>)
KOR_sector<span class="op">$</span><span class="st">&#39;CMP_CD&#39;</span> =<span class="st"> </span><span class="kw">str_pad</span>(KOR_sector<span class="op">$</span><span class="st">&#39;CMP_CD&#39;</span>, <span class="dv">6</span>, <span class="st">&#39;left&#39;</span>, <span class="dv">0</span>)</code></pre>
<p>먼저 각 파일을 불러온 후, 티커에 해당하는 종목코드와 CMP_CD 열을 6자리 숫자로 만들어 주도록 합니다.</p>
<p>이제 <code>dplyr</code> 패키지의 여러 함수들을 이용하여 데이터를 분석해보도록 하겠습니다. 해당 패키지는 데이터 처리에 특화된 패키지이며, C++로 작성되어 매우 빠른 처리속도를 자랑합니다. 또한 문법이 SQL과 매우 비슷하여, 함수들의 내용을 직관적으로 이해할 수 있습니다.</p>
<div id="join--" class="section level3">
<h3><span class="header-section-number">8.1.1</span> <code>*_join</code>: 데이터 합치기</h3>
<p>두 테이블을 하나로 합치기 위해 <code>*_join()</code> 함수를 이용하도록 합니다. 해당 함수는 기존에 살펴본 <code>merge()</code> 함수와 동일하며, 합치는 방법은 그림 <a href="section-113.html#fig:joinimg">8.1</a>과 표 <a href="section-113.html#tab:joindesc">8.1</a>과 같이 크게 4가지 종류가 있습니다.</p>
<div class="figure" style="text-align: center"><span id="fig:joinimg"></span>
<img src="images/data_analysis_join.png" alt="join 함수의 종류" width="551" />
<p class="caption">
Figure 8.1: join 함수의 종류
</p>
</div>
<table>
<caption><span id="tab:joindesc">Table 8.1: </span>join 함수의 종류</caption>
<thead>
<tr class="header">
<th align="left">함수</th>
<th align="left">내용</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">inner_join()</td>
<td align="left">교집합</td>
</tr>
<tr class="even">
<td align="left">full_join()</td>
<td align="left">합집합</td>
</tr>
<tr class="odd">
<td align="left">left_join()</td>
<td align="left">좌측 기준</td>
</tr>
<tr class="even">
<td align="left">right_join()</td>
<td align="left">우측 기준</td>
</tr>
</tbody>
</table>
<p>이 중 데이터의 손실을 없애기 위해 <code>full_join()</code>을 사용하여 두 데이터를 합치도록 하겠습니다.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(dplyr)

data_market =<span class="st"> </span><span class="kw">full_join</span>(KOR_ticker, KOR_sector,
                         <span class="dt">by =</span> <span class="kw">c</span>(<span class="st">&#39;종목코드&#39;</span> =<span class="st"> &#39;CMP_CD&#39;</span>, <span class="st">&#39;종목명&#39;</span> =<span class="st"> &#39;CMP_KOR&#39;</span>))</code></pre>
<p><code>full_join()</code> 함수를 이용해 KOR_ticker와 KOR_sector 데이터를 합쳐주도록 합니다. by 인자는 데이터를 합치는 기준점을 의미하며, x 데이터(KOR_ticker)의 종목코드와 y 데이터(KOR_sector)의 CMP_CD는 같음을, x 데이터의 종목명과 y 데이터의 CMP_KOR는 같음을 정의합니다.</p>
</div>
<div id="glimpse---" class="section level3">
<h3><span class="header-section-number">8.1.2</span> <code>glimpse()</code>: 데이터 구조 확인하기</h3>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">glimpse</span>(data_market)</code></pre>
<pre><code>## Observations: 2,044
## Variables: 30
## $ 종목코드         &lt;chr&gt; &quot;005930&quot;, &quot;000660&quot;, &quot;005380&quot;, &quot;068270&quot;, &quot;051910&quot;,...
## $ 종목명           &lt;chr&gt; &quot;삼성전자&quot;, &quot;SK하이닉스&quot;, &quot;현대차&quot;, &quot;셀트리온&quot;, &quot;LG화학&quot;, &quot;신한지주&quot;,...
## $ 시장구분         &lt;chr&gt; &quot;코스피&quot;, &quot;코스피&quot;, &quot;코스피&quot;, &quot;코스피&quot;, &quot;코스피&quot;, &quot;코스피&quot;, &quot;코스피&quot;, ...
## $ 산업분류         &lt;chr&gt; &quot;전기전자&quot;, &quot;전기전자&quot;, &quot;운수장비&quot;, &quot;의약품&quot;, &quot;화학&quot;, &quot;금융업&quot;, &quot;운수장비...
## $ 현재가.종가.     &lt;int&gt; 44200, 65400, 140000, 196500, 330500, 44900, 22000...
## $ 전일대비         &lt;int&gt; 300, 300, -1000, 500, -1000, 0, -500, -2500, -450...
## $ 시가총액.원.     &lt;dbl&gt; 2.638644e+14, 4.761135e+13, 2.991355e+13, 2.521666...
## $ 일자             &lt;chr&gt; &quot;2019-06-07&quot;, &quot;2019-06-07&quot;, &quot;2019-06-07&quot;, &quot;2019...
## $ 관리여부         &lt;chr&gt; &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;,...
## $ 종가             &lt;int&gt; 44200, 65400, 140000, 196500, 330500, 44900, 22...
## $ EPS              &lt;chr&gt; &quot;6,461&quot;, &quot;22,255&quot;, &quot;5,632&quot;, &quot;2,063&quot;, &quot;19,217&quot;...
## $ PER              &lt;chr&gt; &quot;6.84&quot;, &quot;2.94&quot;, &quot;24.86&quot;, &quot;95.25&quot;, &quot;17.2&quot;, &quot;6....
## $ BPS              &lt;chr&gt; &quot;35,342&quot;, &quot;64,348&quot;, &quot;245,447&quot;, &quot;19,766&quot;, &quot;218...
## $ PBR              &lt;chr&gt; &quot;1.25&quot;, &quot;1.02&quot;, &quot;0.57&quot;, &quot;9.94&quot;, &quot;1.51&quot;, &quot;0.6&quot;...
## $ 주당배당금       &lt;int&gt; 1416, 1500, 4000, 0, 6000, 1600, 4000, 10000, 1000...
## $ 배당수익률       &lt;dbl&gt; 3.20, 2.29, 2.86, 0.00, 1.82, 3.56, 1.82, 3.92, 4....
## $ 게시물..일련번호 &lt;int&gt; 1456, 1408, 1450, 1595, 1536, 1538, 1593, 1495, 1452...
## $ 총카운트         &lt;int&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N...
## $ IDX_CD           &lt;chr&gt; &quot;G45&quot;, &quot;G45&quot;, &quot;G25&quot;, &quot;G35&quot;, &quot;G15&quot;, &quot;G40&quot;, &quot;G2...
## $ IDX_NM_KOR       &lt;chr&gt; &quot;WICS IT&quot;, &quot;WICS IT&quot;, &quot;WICS 경기관련소비재&quot;, &quot;WICS 건...
## $ ALL_MKT_VAL      &lt;int&gt; 376270891, 376270891, 141374708, 81157991, 71...
## $ MKT_VAL          &lt;int&gt; 208452867, 35232402, 20042076, 16895164, 1516...
## $ WGT              &lt;dbl&gt; 55.40, 9.36, 14.18, 20.82, 21.12, 17.55, 10.0...
## $ S_WGT            &lt;dbl&gt; 55.40, 64.76, 14.18, 20.82, 43.84, 17.55, 24....
## $ CAL_WGT          &lt;int&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, ...
## $ SEC_CD           &lt;chr&gt; &quot;G45&quot;, &quot;G45&quot;, &quot;G25&quot;, &quot;G35&quot;, &quot;G15&quot;, &quot;G40&quot;, &quot;G2...
## $ SEC_NM_KOR       &lt;chr&gt; &quot;IT&quot;, &quot;IT&quot;, &quot;경기관련소비재&quot;, &quot;건강관리&quot;, &quot;소재&quot;, &quot;금융&quot;, &quot;경...
## $ SEQ              &lt;int&gt; 1, 2, 1, 1, 2, 1, 2, 1, 1, 3, 2, 2, 3, 1, 2, ...
## $ TOP60            &lt;int&gt; 2, 2, 12, 21, 6, 6, 12, 2, 6, 12, 21, 6, 2, 2...
## $ APT_SHR_CNT      &lt;dbl&gt; 4716128215, 538721750, 143157685, 85980477, 4...</code></pre>
<p><code>glimpse()</code> 함수는 데이터 내용, 구조, 형식을 확인하는 함수입니다. 기본 함수인 <code>str()</code>과 그 역할은 비슷하지만, tidy 형태로 결과물이 훨씬 깔끔하게 출력됩니다. 총 관측값 및 열의 갯수, 각 열의 이름과 데이터 형식, 앞부분 데이터를 확인할 수 있습니다.</p>
</div>
<div id="rename---" class="section level3">
<h3><span class="header-section-number">8.1.3</span> <code>rename()</code>: 열 이름 바꾸기</h3>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">head</span>(<span class="kw">names</span>(data_market), <span class="dv">10</span>)</code></pre>
<pre><code>##  [1] &quot;종목코드&quot;     &quot;종목명&quot;       &quot;시장구분&quot;     &quot;산업분류&quot;    
##  [5] &quot;현재가.종가.&quot; &quot;전일대비&quot;     &quot;시가총액.원.&quot; &quot;일자&quot;        
##  [9] &quot;관리여부&quot;     &quot;종가&quot;</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">data_market =<span class="st"> </span>data_market <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">rename</span>(<span class="st">`</span><span class="dt">시가총액</span><span class="st">`</span> =<span class="st"> `</span><span class="dt">시가총액.원.</span><span class="st">`</span>)

<span class="kw">head</span>(<span class="kw">names</span>(data_market), <span class="dv">10</span>)</code></pre>
<pre><code>##  [1] &quot;종목코드&quot;     &quot;종목명&quot;       &quot;시장구분&quot;     &quot;산업분류&quot;    
##  [5] &quot;현재가.종가.&quot; &quot;전일대비&quot;     &quot;시가총액&quot;     &quot;일자&quot;        
##  [9] &quot;관리여부&quot;     &quot;종가&quot;</code></pre>
<p><code>rename()</code> 함수는 열 이름을 바꾸는 함수로써,<code>rename(tbl, new_name, old_name)</code> 형태로 입력합니다. 위의 경우 <strong>시가총액.원.</strong> 열이름이 **시가총액*으로 변경되었습니다.</p>
</div>
<div id="distinct---" class="section level3">
<h3><span class="header-section-number">8.1.4</span> distinct(): 고유한 값 확인</h3>
<pre class="sourceCode r"><code class="sourceCode r">data_market <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">distinct</span>(SEC_NM_KOR) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">c</span>() </code></pre>
<pre><code>## $SEC_NM_KOR
##  [1] &quot;IT&quot;                 &quot;경기관련소비재&quot;     &quot;건강관리&quot;          
##  [4] &quot;소재&quot;               &quot;금융&quot;               &quot;커뮤니케이션서비스&quot;
##  [7] &quot;산업재&quot;             &quot;유틸리티&quot;           &quot;에너지&quot;            
## [10] &quot;필수소비재&quot;         NA</code></pre>
<p><code>distinct()</code> 함수는 고유한 값을 반환하며, 기본함수 중 <code>unique()</code>와 동일한 기능을 합니다. 데이터의 섹터 정보를 확인해보면, WICS 기준 10개 섹터 및 섹터 정보가 없는 종목인 NA 값이 있음이 확인됩니다.</p>
</div>
<div id="select---" class="section level3">
<h3><span class="header-section-number">8.1.5</span> <code>select()</code>: 원하는 열만 선택</h3>
<pre class="sourceCode r"><code class="sourceCode r">data_market <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">select</span>(<span class="st">`</span><span class="dt">종목명</span><span class="st">`</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">head</span>()</code></pre>
<pre><code>##       종목명
## 1   삼성전자
## 2 SK하이닉스
## 3     현대차
## 4   셀트리온
## 5     LG화학
## 6   신한지주</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">data_market <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">select</span>(<span class="st">`</span><span class="dt">종목명</span><span class="st">`</span>, <span class="st">`</span><span class="dt">PBR</span><span class="st">`</span>, <span class="st">`</span><span class="dt">SEC_NM_KOR</span><span class="st">`</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">head</span>()</code></pre>
<pre><code>##       종목명  PBR     SEC_NM_KOR
## 1   삼성전자 1.25             IT
## 2 SK하이닉스 1.02             IT
## 3     현대차 0.57 경기관련소비재
## 4   셀트리온 9.94       건강관리
## 5     LG화학 1.51           소재
## 6   신한지주  0.6           금융</code></pre>
<p><code>select()</code> 함수는 원하는 열을 선택해주는 함수이며, 원하는 열 이름을 입력하면 됩니다. 하나의 열 뿐만 아니라 다수의 열을 입력할 경우 해당 열들이 선택됩니다.</p>
<pre class="sourceCode r"><code class="sourceCode r">data_market <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">select</span>(<span class="kw">starts_with</span>(<span class="st">&#39;시&#39;</span>)) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">head</span>()</code></pre>
<pre><code>##   시장구분     시가총액
## 1   코스피 2.638644e+14
## 2   코스피 4.761135e+13
## 3   코스피 2.991355e+13
## 4   코스피 2.521666e+13
## 5   코스피 2.333077e+13
## 6   코스피 2.129156e+13</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">data_market <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">select</span>(<span class="kw">ends_with</span>(<span class="st">&#39;R&#39;</span>)) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">head</span>()</code></pre>
<pre><code>##     PER  PBR          IDX_NM_KOR     SEC_NM_KOR
## 1  6.84 1.25             WICS IT             IT
## 2  2.94 1.02             WICS IT             IT
## 3 24.86 0.57 WICS 경기관련소비재 경기관련소비재
## 4 95.25 9.94       WICS 건강관리       건강관리
## 5  17.2 1.51           WICS 소재           소재
## 6  6.82  0.6           WICS 금융           금융</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">data_market <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">select</span>(<span class="kw">contains</span>(<span class="st">&#39;가&#39;</span>)) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">head</span>()</code></pre>
<pre><code>##   현재가.종가.     시가총액   종가
## 1        44200 2.638644e+14  44200
## 2        65400 4.761135e+13  65400
## 3       140000 2.991355e+13 140000
## 4       196500 2.521666e+13 196500
## 5       330500 2.333077e+13 330500
## 6        44900 2.129156e+13  44900</code></pre>
<p>해당 함수는 다양한 응용기능도 제공합니다. <code>starts_with()</code>의 경우 특정 문자로 시작하는 열들을, <code>ends_with()</code>의 경우 특정 문자로 끝나는 열들을, <code>contains()</code>의 경우 특정 문자가 포함되는 열들을 선택해 줍니다.</p>
</div>
<div id="mutate-----" class="section level3">
<h3><span class="header-section-number">8.1.6</span> <code>mutate()</code>: 열 생성 및 데이터 변경</h3>
<pre class="sourceCode r"><code class="sourceCode r">data_market =<span class="st"> </span>data_market <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="st">`</span><span class="dt">PBR</span><span class="st">`</span> =<span class="st"> </span><span class="kw">as.numeric</span>(PBR),
         <span class="st">`</span><span class="dt">PER</span><span class="st">`</span> =<span class="st"> </span><span class="kw">as.numeric</span>(PER),
         <span class="st">`</span><span class="dt">ROE</span><span class="st">`</span> =<span class="st"> </span>PBR <span class="op">/</span><span class="st"> </span>PER,
         <span class="st">`</span><span class="dt">ROE</span><span class="st">`</span> =<span class="st"> </span><span class="kw">round</span>(ROE, <span class="dv">4</span>),
         <span class="st">`</span><span class="dt">size</span><span class="st">`</span> =<span class="st"> </span><span class="kw">ifelse</span>(<span class="st">`</span><span class="dt">시가총액</span><span class="st">`</span> <span class="op">&gt;=</span>
<span class="st">                           </span><span class="kw">median</span>(<span class="st">`</span><span class="dt">시가총액</span><span class="st">`</span>, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>),
                                        <span class="st">&#39;big&#39;</span>, <span class="st">&#39;small&#39;</span>)
  )

data_market <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">select</span>(<span class="st">`</span><span class="dt">종목명</span><span class="st">`</span>, <span class="st">`</span><span class="dt">ROE</span><span class="st">`</span>, <span class="st">`</span><span class="dt">size</span><span class="st">`</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">head</span>()</code></pre>
<pre><code>##       종목명    ROE size
## 1   삼성전자 0.1827  big
## 2 SK하이닉스 0.3469  big
## 3     현대차 0.0229  big
## 4   셀트리온 0.1044  big
## 5     LG화학 0.0878  big
## 6   신한지주 0.0880  big</code></pre>
<p><code>mutate()</code> 함수는 원하는 형태로 열을 생성하거나 가공하는 함수입니다. 위의 예제에서는 먼저 PBR과 PER열을 <code>as.numeric()</code> 함수를 통해 숫자 형태로 변경한 후, PBR을 PER로 나눈 값을 ROE 열에 생성합니다. 그 후, <code>round()</code> 함수를 통해 ROE 값을 반올림 해주며, <code>ifelse()</code> 함수를 통해 시가총액의 중앙값 보다 큰 기업의 경우 big, 아닐 경우 small 임을 size 열에 저장해줍니다.</p>
<p>이 외에도 <code>mutate_*()</code> 계열 함수에는 <code>mutate_all()</code>, <code>mutate_if()</code>, <code>mutate_at()</code> 처럼 각 상황에 맞게 쓸수있는 다양한 함수들이 존재합니다.</p>
</div>
<div id="filter----" class="section level3">
<h3><span class="header-section-number">8.1.7</span> <code>filter()</code>: 조건을 충족하는 행 선택</h3>
<pre class="sourceCode r"><code class="sourceCode r">data_market <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">select</span>(<span class="st">`</span><span class="dt">종목명</span><span class="st">`</span>, <span class="st">`</span><span class="dt">PBR</span><span class="st">`</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">filter</span>(<span class="st">`</span><span class="dt">PBR</span><span class="st">`</span> <span class="op">&lt;</span><span class="st"> </span><span class="dv">1</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">head</span>()</code></pre>
<pre><code>##       종목명  PBR
## 1     현대차 0.57
## 2   신한지주 0.60
## 3 현대모비스 0.70
## 4   SK텔레콤 0.92
## 5      POSCO 0.47
## 6     KB금융 0.52</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">data_market <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">select</span>(<span class="st">`</span><span class="dt">종목명</span><span class="st">`</span>, <span class="st">`</span><span class="dt">PER</span><span class="st">`</span>, <span class="st">`</span><span class="dt">PBR</span><span class="st">`</span>, <span class="st">`</span><span class="dt">ROE</span><span class="st">`</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">filter</span>(PBR <span class="op">&lt;</span><span class="st"> </span><span class="dv">1</span> <span class="op">&amp;</span><span class="st"> </span>PER <span class="op">&lt;</span><span class="st"> </span><span class="dv">20</span> <span class="op">&amp;</span><span class="st"> </span>ROE <span class="op">&gt;</span><span class="st"> </span><span class="fl">0.1</span> ) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">head</span>()</code></pre>
<pre><code>##       종목명  PER  PBR    ROE
## 1   SK텔레콤 5.79 0.92 0.1589
## 2         LG 7.01 0.73 0.1041
## 3 롯데케미칼 5.56 0.69 0.1241
## 4         GS 5.30 0.56 0.1057
## 5 DB손해보험 7.19 0.84 0.1168
## 6 CJ제일제당 5.05 0.96 0.1901</code></pre>
<p><code>filter()</code> 함수는 조건을 충족하는 부분의 데이터를 반환하는 함수입니다. 첫번째 예제와 같이 PBR이 1 미만인 단일 조건을 입력할 수도 있으며, 두번째 예제와 같이 PBR 1 미만, PER 20 미만, ROE 0.1 초과 등 복수 조건을 입력할 수도 있습니다.</p>
</div>
<div id="summarize---" class="section level3">
<h3><span class="header-section-number">8.1.8</span> <code>summarize()</code>: 요약 통계값 계산</h3>
<pre class="sourceCode r"><code class="sourceCode r">data_market <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">summarize</span>(<span class="dt">PBR_max =</span> <span class="kw">max</span>(PBR, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>),
            <span class="dt">PBR_min =</span> <span class="kw">min</span>(PBR, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>))</code></pre>
<pre><code>##   PBR_max PBR_min
## 1   106.4    0.19</code></pre>
<p><code>summarize()</code> 혹은 <code>summarise()</code> 함수는 원하는 요약 통계값을 계산해 줍니다. PBR_max은 PBR 열에서 최대값을, PBR_min은 최소값을 계산해줍니다.</p>
</div>
<div id="arrange--" class="section level3">
<h3><span class="header-section-number">8.1.9</span> <code>arrange()</code>: 데이터 정렬</h3>
<pre class="sourceCode r"><code class="sourceCode r">data_market <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">select</span>(PBR) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">arrange</span>(PBR) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">head</span>(<span class="dv">5</span>)</code></pre>
<pre><code>##    PBR
## 1 0.19
## 2 0.20
## 3 0.21
## 4 0.21
## 5 0.21</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">data_market <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">select</span>(ROE) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">arrange</span>(<span class="kw">desc</span>(ROE)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">head</span>(<span class="dv">5</span>)</code></pre>
<pre><code>##      ROE
## 1 1.3265
## 2 0.9533
## 3 0.7177
## 4 0.5843
## 5 0.5536</code></pre>
<p><code>arrange()</code> 함수의 경우 선택한 열을 기준으로 데이터를 정렬해주며, 오름차순을 기준으로 정렬합니다. 내림차순으로 데이터를 정렬하고자 할 경우 <code>arrange()</code> 내에 <code>desc()</code> 함수를 추가로 입력해주면 됩니다.</p>
</div>
<div id="row_number--" class="section level3">
<h3><span class="header-section-number">8.1.10</span> <code>row_number()</code>: 순위 계산</h3>
<pre class="sourceCode r"><code class="sourceCode r">data_market <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">PBR_rank =</span> <span class="kw">row_number</span>(PBR)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">select</span>(PBR, PBR_rank) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">arrange</span>(PBR) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">head</span>(<span class="dv">5</span>)</code></pre>
<pre><code>##    PBR PBR_rank
## 1 0.19        1
## 2 0.20        2
## 3 0.21        3
## 4 0.21        4
## 5 0.21        5</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">data_market <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">PBR_rank =</span> <span class="kw">row_number</span>(<span class="kw">desc</span>(ROE))) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">select</span>(ROE, PBR_rank) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">arrange</span>(<span class="kw">desc</span>(ROE)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">head</span>(<span class="dv">5</span>)</code></pre>
<pre><code>##      ROE PBR_rank
## 1 1.3265        1
## 2 0.9533        2
## 3 0.7177        3
## 4 0.5843        4
## 5 0.5536        5</code></pre>
<p><code>row_number()</code> 함수는 선택한 열의 순위를 구해줍니다. 기본적으로 오름차순 기준으로 순위를 구하며, 내림차순으로 구하고자 할 떄는 <code>desc()</code> 함수를 추가해주면 됩니다.</p>
<p>순위를 구하는 함수는 이 외에도 <code>min_rank()</code>, <code>dense_rank()</code>, <code>percent_rank()</code>가 있습니다.</p>
</div>
<div id="ntile--" class="section level3">
<h3><span class="header-section-number">8.1.11</span> <code>ntile()</code>: 분위수 계산</h3>
<pre class="sourceCode r"><code class="sourceCode r">data_market <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">PBR_tile =</span> <span class="kw">ntile</span>(PBR, <span class="dt">n =</span> <span class="dv">5</span>)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">select</span>(PBR, PBR_tile) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">head</span>()</code></pre>
<pre><code>##    PBR PBR_tile
## 1 1.25        3
## 2 1.02        3
## 3 0.57        1
## 4 9.94        5
## 5 1.51        3
## 6 0.60        1</code></pre>
<p><code>ntile()</code> 함수는 분위수를 계산해주며, n 인자를 통해 몇 분위로 나눌지를 선택할 수 있습니다. 해당 함수 역시 오름차순을 기준으로 분위수를 나눕니다.</p>
</div>
<div id="group_by---" class="section level3">
<h3><span class="header-section-number">8.1.12</span> <code>group_by()</code>: 그룹별로 데이터를 묶음</h3>
<pre class="sourceCode r"><code class="sourceCode r">data_market <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">group_by</span>(<span class="st">`</span><span class="dt">SEC_NM_KOR</span><span class="st">`</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">summarize</span>(<span class="kw">n</span>())</code></pre>
<pre><code>## # A tibble: 11 x 2
##    SEC_NM_KOR         `n()`
##    &lt;chr&gt;              &lt;int&gt;
##  1 &lt;NA&gt;                  76
##  2 IT                   574
##  3 건강관리             227
##  4 경기관련소비재       393
##  5 금융                  79
##  6 산업재               332
##  7 소재                 217
##  8 에너지                23
##  9 유틸리티              19
## 10 커뮤니케이션서비스     7
## 11 필수소비재            97</code></pre>
<p><code>group_by()</code> 함수는 선택한 열 중 동일한 데이터를 기준으로 데이터를 묶어줍니다. 위의 예제에서는 섹터를 나타내는 SEC_NM_KOR 기준으로 데이터를 묶었으며, <code>n()</code> 함수를 통해 해당 그룹 내 데이터의 갯수를 구할 수 있습니다.</p>
<pre class="sourceCode r"><code class="sourceCode r">data_market <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">group_by</span>(<span class="st">`</span><span class="dt">SEC_NM_KOR</span><span class="st">`</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">summarize</span>(<span class="dt">PBR_median =</span> <span class="kw">median</span>(PBR, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">arrange</span>(PBR_median)</code></pre>
<pre><code>## # A tibble: 11 x 2
##    SEC_NM_KOR         PBR_median
##    &lt;chr&gt;                   &lt;dbl&gt;
##  1 유틸리티                 0.47
##  2 금융                     0.74
##  3 소재                     0.76
##  4 에너지                   0.9 
##  5 산업재                   0.92
##  6 커뮤니케이션서비스       0.93
##  7 필수소비재               0.98
##  8 경기관련소비재           1.10
##  9 IT                       1.54
## 10 &lt;NA&gt;                     1.82
## 11 건강관리                 2.7</code></pre>
<p>위 예제는 섹터를 기준으로 데이터를 묶은 후, <code>summarize()</code>를 통해 각각의 섹터에 속하는 종목들의 PBR 중앙값을 구한 후, 정렬하였습니다.</p>
<pre class="sourceCode r"><code class="sourceCode r">data_market <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">group_by</span>(<span class="st">`</span><span class="dt">시장구분</span><span class="st">`</span>, <span class="st">`</span><span class="dt">SEC_NM_KOR</span><span class="st">`</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">summarize</span>(<span class="dt">PBR_median =</span> <span class="kw">median</span>(PBR, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">arrange</span>(PBR_median)</code></pre>
<pre><code>## # A tibble: 27 x 3
## # Groups:   시장구분 [3]
##    시장구분 SEC_NM_KOR         PBR_median
##    &lt;chr&gt;    &lt;chr&gt;                   &lt;dbl&gt;
##  1 코스피   유틸리티                0.455
##  2 코스피   금융                    0.580
##  3 코스피   소재                    0.69 
##  4 코스피   에너지                  0.76 
##  5 코스피   경기관련소비재          0.77 
##  6 코스피   산업재                  0.825
##  7 코스피   필수소비재              0.84 
##  8 코스닥   유틸리티                0.87 
##  9 코스피   커뮤니케이션서비스      0.91 
## 10 코스닥   소재                    1.00 
## # ... with 17 more rows</code></pre>
<p>위 예제는 시장과 섹터를 기준으로 데이터를 그룹화한 후, 각 그룹별 PBR 중앙값을 구하였습니다. 이처럼 그룹의 경우 하나만이 아닌 원하는 만큼 나눌 수 있습니다.</p>
</div>
</div>
<div id="section-115" class="section level2">
<h2><span class="header-section-number">8.2</span> 종목정보 시각화</h2>
<p>R 내에서 기본적으로 제공하는 <code>plot()</code> 함수를 통해서도 시각화가 충분히 가능합니다. 그러나 데이터 과학자들에게 가장 많이 사랑받는 패키지 중 하나인 <code>ggplot2</code> 패키지의 <code>ggplot()</code> 함수를사용할 경우 훨씬 아름답게 그림이 표현 가능<a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a>하며, 다양한 기능들을 매우 쉽게 사용할 수도 있습니다.</p>
<p><code>ggplot()</code> 함수는 플러스(+) 기호를 사용한다는 점과 문법이 다소 어색하다는 점 때문에 처음에 배우기가 쉽지는 않습니다. 그러나 해당 패키지의 근본이 되는 철학인 <strong>The Grammar of Graphics</strong>를 이해하고 조금만 연습해본다면, 충분히 손쉽게 사용이 가능합니다.</p>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-17"></span>
<img src="images/data_analysis_gg.png" alt="The Grammar of Graphics" width="50%" />
<p class="caption">
Figure 8.2: The Grammar of Graphics
</p>
</div>
<p><code>ggplot2</code> 패키지에 대해 더욱 공부하고 싶으신 분은, 해당 패키지의 제작자인 해들리 위컴의 책<a href="#fn2" class="footnote-ref" id="fnref2"><sup>2</sup></a>을 추천드립니다.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(ggplot2)

<span class="kw">ggplot</span>(data_market, <span class="kw">aes</span>(<span class="dt">x =</span> ROE, <span class="dt">y =</span> PBR)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_point</span>()</code></pre>
<p><img src="08-data_analysis_files/figure-html/unnamed-chunk-18-1.png" width="50%" style="display: block; margin: auto;" /></p>
<ol style="list-style-type: decimal">
<li><code>ggplot()</code> 함수 내에 사용될 데이터인 data_market을 입력하며, aes 인자 내부에 x축은 ROE, y축은 PBR 열을 사용하도록 정의합니다</li>
<li><code>geom_point()</code> 함수를 통해 산점도 그래프를 그려주도록 합니다. 원하는 그림이 그려지기는 하였으나, ROE와 PBR에 극단치 데이터가 존재하여 둘간의 관계가 잘 보이지 않습니다.</li>
</ol>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(data_market, <span class="kw">aes</span>(<span class="dt">x =</span> ROE, <span class="dt">y =</span> PBR)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_point</span>() <span class="op">+</span>
<span class="st">  </span><span class="kw">coord_cartesian</span>(<span class="dt">xlim =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="fl">0.30</span>), <span class="dt">ylim =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">3</span>))</code></pre>
<p><img src="08-data_analysis_files/figure-html/unnamed-chunk-19-1.png" width="50%" style="display: block; margin: auto;" /></p>
<p>이번에는 극단치 효과를 제거하기 위해 <code>coord_cartesian()</code> 함수 내에 xlim과 ylim, 즉 x축과 y축의 범위를 직접 지정해주도록 합니다. 극단치가 제거되어 데이터를 한 눈에 확인할 수 있습니다.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(data_market, <span class="kw">aes</span>(<span class="dt">x =</span> ROE, <span class="dt">y =</span> PBR,
                        <span class="dt">color =</span> <span class="st">`</span><span class="dt">시장구분</span><span class="st">`</span>, <span class="dt">shape =</span> <span class="st">`</span><span class="dt">시장구분</span><span class="st">`</span>)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_point</span>() <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_smooth</span>(<span class="dt">method =</span> <span class="st">&#39;lm&#39;</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">coord_cartesian</span>(<span class="dt">xlim =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="fl">0.30</span>), <span class="dt">ylim =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">3</span>))</code></pre>
<p><img src="08-data_analysis_files/figure-html/unnamed-chunk-20-1.png" width="50%" style="display: block; margin: auto;" /></p>
<ol style="list-style-type: decimal">
<li><code>ggplot()</code> 함수 내부 aes 인자에 color와 shape를 지정해주면, 해당 그룹 별로 모양과 색이 나타납니다. 코스피와 코스닥 종목들에 해당하는 데이터의 색과 점 모양이 다르게 표시할 수 있습니다.</li>
<li><code>geom_smooth()</code> 함수를 통해 평활선을 추가해줄 수도 있으며, 방법으로 lm(linear model)을 지정해줄 경우 선형회귀선을 그려주게 됩니다. 이 외에도 glm, gam, loess 등의 다양한 회귀선을 그려줄 수 있습니다.</li>
</ol>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(data_market, <span class="kw">aes</span>(<span class="dt">x =</span> PBR)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_histogram</span>(<span class="dt">binwidth =</span> <span class="fl">0.1</span>) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw">coord_cartesian</span>(<span class="dt">xlim =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">10</span>))</code></pre>
<p><img src="08-data_analysis_files/figure-html/unnamed-chunk-21-1.png" width="50%" style="display: block; margin: auto;" /></p>
<p><code>geom_histogram()</code> 함수는 히스토그램을 나타내주며, binwidth 인자를 막대의 너비를 선택해줄 수 있습니다. 국내 종목들의 PBR 데이터는 좌측에 쏠려있고 오른쪽으로 꼬리가 긴 분포를 가지고 있습니다.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(data_market, <span class="kw">aes</span>(<span class="dt">x =</span> PBR)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_histogram</span>(<span class="kw">aes</span>(<span class="dt">y =</span> ..density..),
                 <span class="dt">binwidth =</span> <span class="fl">0.1</span>,
                 <span class="dt">color =</span> <span class="st">&#39;sky blue&#39;</span>, <span class="dt">fill =</span> <span class="st">&#39;sky blue&#39;</span>) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw">coord_cartesian</span>(<span class="dt">xlim =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">10</span>)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_density</span>(<span class="dt">color =</span> <span class="st">&#39;red&#39;</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_vline</span>(<span class="kw">aes</span>(<span class="dt">xintercept =</span> <span class="kw">median</span>(PBR, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)), <span class="dt">color =</span> <span class="st">&#39;blue&#39;</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_text</span>(<span class="kw">aes</span>(<span class="dt">label =</span> <span class="kw">median</span>(PBR, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>), <span class="dt">x =</span> <span class="kw">median</span>(PBR, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)), <span class="dt">y =</span> <span class="fl">0.05</span>,
            <span class="dt">col =</span> <span class="st">&#39;black&#39;</span>, <span class="dt">size =</span> <span class="dv">4</span>, <span class="dt">hjust =</span> <span class="fl">-0.5</span>)</code></pre>
<p><img src="08-data_analysis_files/figure-html/unnamed-chunk-22-1.png" width="50%" style="display: block; margin: auto;" /></p>
<p>PBR 히스토그램을 좀 더 자세하게 나타내보도록 하겠습니다.</p>
<ol style="list-style-type: decimal">
<li><code>geom_histogram()</code> 함수 내에 aes(y = ..density..)를 추가해주어 밀도함수로 바꾸어주도록 합니다.</li>
<li><code>geom_density()</code> 함수를 추가해 밀도곡선을 그려줍니다.</li>
<li><code>geom_vline()</code> 함수는 세로선을 그려주며, xintercept 즉 x축으로 PBR의 중앙값을 선택해 줍니다.</li>
<li><code>geom_text()</code> 함수는 그림 내에 글자를 표현해주며, label 인자에 원하는 글자를 입력해준 후 글자가 표현될 x축, y축, 색상, 사이즈 등을 선택할 수 있습니다.</li>
</ol>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(data_market, <span class="kw">aes</span>(<span class="dt">x =</span> SEC_NM_KOR, <span class="dt">y =</span> PBR)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_boxplot</span>() <span class="op">+</span>
<span class="st">  </span><span class="kw">coord_flip</span>()</code></pre>
<p><img src="08-data_analysis_files/figure-html/unnamed-chunk-23-1.png" width="50%" style="display: block; margin: auto;" /></p>
<p>박스 플롯 역시 데이터의 분포와 극단치를 확인하기 좋은 그림이며, <code>geom_boxplot()</code> 함수를 통해 나타낼 수 있습니다.</p>
<ol style="list-style-type: decimal">
<li>x축 데이터로는 섹터 정보, y축 데이터로는 PBR을 선택해 줍니다.</li>
<li><code>geom_boxplot()</code>를 통해 박스 플롯을 그려줍니다.</li>
<li><code>coord_flip()</code> 함수는 x축과 y축을 뒤집어 표현하게 해주며 x축에 PBR, y축에 섹터 정보가 나타나게 되었습니다.</li>
</ol>
<p>결과를 살펴보면 유틸리티나 금융 섹터의 경우 PBR이 잘 모여있는 반면, IT나 건강관리 섹터 등은 매우 극단적인 PBR을 가지고 있는 종목이 존재합니다.</p>
<pre class="sourceCode r"><code class="sourceCode r">data_market <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">filter</span>(<span class="op">!</span><span class="kw">is.na</span>(SEC_NM_KOR)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">group_by</span>(SEC_NM_KOR) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">summarize</span>(<span class="dt">ROE_sector =</span> <span class="kw">median</span>(ROE, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>),
            <span class="dt">PBR_sector =</span> <span class="kw">median</span>(PBR, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> ROE_sector, <span class="dt">y =</span> PBR_sector,
             <span class="dt">color =</span> SEC_NM_KOR, <span class="dt">label =</span> SEC_NM_KOR)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_point</span>() <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_text</span>(<span class="dt">color =</span> <span class="st">&#39;black&#39;</span>, <span class="dt">size =</span> <span class="dv">3</span>, <span class="dt">vjust =</span> <span class="fl">1.3</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">theme</span>(<span class="dt">legend.position =</span> <span class="st">&#39;bottom&#39;</span>, <span class="dt">legend.title =</span> <span class="kw">element_blank</span>())</code></pre>
<p><img src="08-data_analysis_files/figure-html/unnamed-chunk-24-1.png" width="50%" style="display: block; margin: auto;" /></p>
<p>앞에서 배운 데이터 분석과 시각화를 동시에 연결하여 사용할 수도 있습니다.</p>
<ol style="list-style-type: decimal">
<li>데이터 분석의 단계로 <code>filter()</code>를 통해 섹터가 NA가 아닌 종목을 선택합니다.</li>
<li><code>group_by()</code>를 통해 섹터 별 그룹을 묶습니다.</li>
<li><code>summarize()</code>를 통해 ROE와 PBR의 중앙값을 계산해줍니다. 해당 과정을 거치면 다음의 결과가 계산됩니다.</li>
</ol>
<pre><code>## # A tibble: 10 x 3
##    SEC_NM_KOR         ROE_sector PBR_sector
##    &lt;chr&gt;                   &lt;dbl&gt;      &lt;dbl&gt;
##  1 IT                     0.0957       1.54
##  2 건강관리               0.0704       2.7 
##  3 경기관련소비재         0.0634       1.10
##  4 금융                   0.0896       0.74
##  5 산업재                 0.0686       0.92
##  6 소재                   0.0632       0.76
##  7 에너지                 0.0612       0.9 
##  8 유틸리티               0.0706       0.47
##  9 커뮤니케이션서비스     0.137        0.93
## 10 필수소비재             0.0696       0.98</code></pre>
<p>해당 결과를 파이프 오퍼레이터(<code>%&gt;%</code>)로 이을 경우 그대로 시각화가 가능하며, <code>ggplot()</code> 함수 내에 데이터를 입력하지 않아도 됩니다.</p>
<ol start="4" style="list-style-type: decimal">
<li>x축과 y축을 설정해준 뒤, 색상과 라벨을 섹터로 지정해주면 각 섹터 별로 다른 색상의 산점도가 그려지게 됩니다. 5. <code>geom_text()</code> 함수를 통해 앞에서 라벨로 지정한 섹터 정보들을 출력해줍니다.</li>
<li><code>theme()</code> 함수를 통해 다양한 테마를 지정해주도록 합니다. legend.position 인자를 통해 범례를 하단에 배치하였으며, legend.title 인자를 통해 범례의 제목을 삭제해 주었습니다.</li>
</ol>
<pre class="sourceCode r"><code class="sourceCode r">data_market <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">group_by</span>(SEC_NM_KOR) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">summarize</span>(<span class="dt">n =</span> <span class="kw">n</span>()) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> SEC_NM_KOR, <span class="dt">y =</span> n)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_bar</span>(<span class="dt">stat =</span> <span class="st">&#39;identity&#39;</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">theme_classic</span>()</code></pre>
<p><img src="08-data_analysis_files/figure-html/unnamed-chunk-26-1.png" width="50%" style="display: block; margin: auto;" /></p>
<p><code>geom_bar()</code>는 막대그래프를 그려주는 함수입니다.</p>
<ol style="list-style-type: decimal">
<li>먼저 <code>group_by()</code>를 통해 섹터 별 그룹을 묶어줍니다.</li>
<li><code>summarize()</code> 함수 내부에 <code>n()</code>을 통해, 각 그룹 별 데이터 갯수를 구합니다.</li>
<li><code>ggplot()</code> 함수에서 x축에는 SEC_NM_KOR, y축에는 n을 지정해줍니다.</li>
<li><code>geom_bar()</code>를 통해 막대그래프를 그려주도록 합니다.y축에 해당하는 n 데이터를 그대로 사용하기 위해서는 stat인자를 ’identity’로 지정해주어야 합니다. <code>theme_*()</code> 함수를 통해 배경 테마를 바꿀수도 있습니다.</li>
</ol>
<p>한편 위 그래프는 데이터 갯수에 따라 순서대로 막대가 정렬되지 않아 보기에 좋은 형태는 아닙니다. 이를 반영하여 더욱 보기좋은 그래프로 나타내주도록 하겠습니다.</p>
<pre class="sourceCode r"><code class="sourceCode r">data_market <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">filter</span>(<span class="op">!</span><span class="kw">is.na</span>(SEC_NM_KOR)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">group_by</span>(SEC_NM_KOR) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">summarize</span>(<span class="dt">n =</span> <span class="kw">n</span>()) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> <span class="kw">reorder</span>(SEC_NM_KOR, n), <span class="dt">y =</span> n, <span class="dt">label =</span> n)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_bar</span>(<span class="dt">stat =</span> <span class="st">&#39;identity&#39;</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_text</span>(<span class="dt">color =</span> <span class="st">&#39;black&#39;</span>, <span class="dt">size =</span> <span class="dv">4</span>, <span class="dt">hjust =</span> <span class="fl">-0.3</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">xlab</span>(<span class="ot">NULL</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">ylab</span>(<span class="ot">NULL</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">coord_flip</span>() <span class="op">+</span>
<span class="st">  </span><span class="kw">scale_y_continuous</span>(<span class="dt">expand =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">0</span>, <span class="fl">0.1</span>, <span class="dv">0</span>)) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw">theme_classic</span>()</code></pre>
<p><img src="08-data_analysis_files/figure-html/unnamed-chunk-27-1.png" width="50%" style="display: block; margin: auto;" /></p>
<ol style="list-style-type: decimal">
<li><code>filter()</code> 함수를 통해 NA 종목은 삭제해준 후, 섹터 별 종목 갯수를 구해주도록 합니다.</li>
<li><code>ggplot()</code>의 x축에 <code>reorder()</code> 함수를 적용하여 SEC_NM_KOR 변수를 n 순서대로 정렬해줍니다.</li>
<li><code>geom_bar()</code>를 통해 막대그래프를 그려준 후, <code>geom_text()</code>를 통해 라벨에 해당하는 종목 갯수를 출력합니다.</li>
<li><code>xlab()</code>과 <code>ylab()</code>에 NULL을 입력해 라벨을 삭제해 줍니다.</li>
<li><code>coord_flip()</code> 함수를 통해 x축과 y축을 뒤집어 줍니다.</li>
<li><code>scale_y_continuous()</code> 함수를 통해 그림의 간격을 약간 넓혀줍니다.</li>
<li><code>theme_classic()</code>로 테마를 변경해줍니다.</li>
</ol>
<p>결과를 보면, 종목수가 많은 섹터부터 순서대로 정렬되어 보기도 쉬우며, 종묵수도 텍스트로 표현되어 한 눈에 확인할 수 있습니다.</p>
<p>이처럼 데이터 시각화를 통해 정보의 분포나 특성을 한눈에 확인할 수 있으며, <code>ggplot()</code>을 이용할 경우 복잡한 형태의 그림도 매우 간단하고 아름답게 표현할 수 있습니다.</p>

</div>
</div>
<div class="footnotes">
<hr />
<ol start="1">
<li id="fn1"><p>R 내에는 <code>ggplot</code> 패키지 외에도 <code>dygraphs</code>, <code>highcharter</code>, <code>plotly</code> 패키지를 이용하여 인터랙티브한 시각화가 가능합니다.<a href="section-113.html#fnref1" class="footnote-back">↩</a></p></li>
<li id="fn2"><p>Ggplot2 : R로 분석한 데이터를 멋진 그래픽으로, 해들리 위컴 저/박진수 역<a href="section-113.html#fnref2" class="footnote-back">↩</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="section-109.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="section-116.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": null,
"history": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
